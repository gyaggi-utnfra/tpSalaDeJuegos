import{a as P}from"./chunk-GBLIZ4YK.js";import{f as I,g as R,h as O}from"./chunk-K2H5XEYT.js";import"./chunk-ICTHBN6B.js";import{g as D}from"./chunk-QRFZE4D5.js";import{l as M,n as y}from"./chunk-7AQS2LSG.js";import{$a as S,Db as t,Eb as s,Fb as x,La as c,Lb as k,Ma as l,aa as _,db as v,hb as e,ib as i,ja as g,mb as b,rb as m,sa as f,sb as C,ta as h}from"./chunk-PVR3HKZP.js";var u=class n{constructor(a,o,r){this.dialogRef=a;this.data=o;this.router=r}onClose(){this.dialogRef.close()}irAlHome(){this.dialogRef.close(),this.router.navigate(["/home"])}jugarDeNuevo(){this.dialogRef.close(),this.router.navigateByUrl("/").then(()=>{this.router.navigate(["/mouse"])})}static \u0275fac=function(o){return new(o||n)(l(I),l(R),l(D))};static \u0275cmp=g({type:n,selectors:[["app-record-dialog"]],decls:22,vars:2,consts:[["id","modal-victoria","tabindex","-1","role","dialog","aria-labelledby","dialog-title",1,"modal","fade","show","d-block"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","dialog-title",1,"modal-title"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(o,r){o&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),t(5,"\xA1Ganaste!"),i()(),e(6,"div",5)(7,"p"),t(8,"\xA1Felicidades, has establecido un nuevo r\xE9cord!"),i(),e(9,"p"),t(10,"Clicks: "),e(11,"strong"),t(12),i()(),e(13,"p"),t(14,"Record: "),e(15,"strong"),t(16),i()()(),e(17,"div",6)(18,"button",7),m("click",function(){return r.jugarDeNuevo()}),t(19,"Jugar de nuevo"),i(),e(20,"button",8),m("click",function(){return r.irAlHome()}),t(21,"Ir al men\xFA"),i()()()()()),o&2&&(c(12),s(r.data.clickCount),c(4),s(r.data.highScore))},styles:[".modal-dialog[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:calc(100% - 1rem);margin:1rem auto}.modal-content[_ngcontent-%COMP%]{border-radius:.3rem;background-color:#f8f9fa}.modal-header[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.modal-body[_ngcontent-%COMP%]{font-size:1rem}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.btn-primary[_ngcontent-%COMP%]{background-color:#28a745;border-color:#28a745}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#218838;border-color:#1e7e34}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;border-color:#6c757d}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#5a6268;border-color:#545b62}"]})};var p=class n{highScore=0;getHighScore(){return this.highScore}setHighScore(a){a>this.highScore&&(this.highScore=a)}static \u0275fac=function(o){return new(o||n)};static \u0275prov=_({token:n,factory:n.\u0275fac,providedIn:"root"})};function F(n,a){if(n&1){let o=b();e(0,"div",5)(1,"button",6),m("click",function(){f(o);let d=C();return h(d.startGame())}),t(2,"\xA1Empezar Juego!"),i()()}}function V(n,a){if(n&1){let o=b();e(0,"div",7),m("click",function(){f(o);let d=C();return h(d.clickArea())}),t(1," \xA1Haz clic aqu\xED! "),i()}}var E=class n{constructor(a,o){this.dialog=a;this.recordService=o}clickCount=0;gameRunning=!1;timer=10;timerId;highScore=0;ngOnInit(){this.highScore=this.recordService.getHighScore()}startGame(){this.clickCount=0,this.gameRunning=!0,this.timer=10,this.startTimer()}clickArea(){this.gameRunning&&this.clickCount++}startTimer(){this.timerId=setInterval(()=>{this.timer--,this.timer<=0&&(clearInterval(this.timerId),this.gameRunning=!1,this.handleGameEnd())},1e3)}handleGameEnd(){this.clickCount>this.highScore?(this.recordService.setHighScore(this.clickCount),this.highScore=this.clickCount,this.showVictoryDialog()):this.showLossDialog()}showVictoryDialog(){this.dialog.open(u,{width:"300px",disableClose:!0,data:{clickCount:this.clickCount,highScore:this.highScore}})}showLossDialog(){this.dialog.open(P,{width:"300px",disableClose:!0,data:{palabra:"Desconocida"}})}static \u0275fac=function(o){return new(o||n)(l(O),l(p))};static \u0275cmp=g({type:n,selectors:[["app-mouse"]],standalone:!0,features:[k],decls:19,vars:5,consts:[["id","divTotal",1,"background-image"],[1,"destruccion-mouse-container"],[1,"game-info"],["class","start-button-container",4,"ngIf"],["class","game-area",3,"click",4,"ngIf"],[1,"start-button-container"],["mat-raised-button","","color","primary",3,"click"],[1,"game-area",3,"click"]],template:function(o,r){o&1&&(e(0,"div",0)(1,"div",1)(2,"h2"),t(3,"\xA1La Destrucci\xF3n del Mouse!"),i(),e(4,"div",2)(5,"p"),t(6,"Tiempo restante: "),e(7,"span"),t(8),i()(),e(9,"p"),t(10,"Clicks: "),e(11,"span"),t(12),i()(),e(13,"p"),t(14,"Record: "),e(15,"span"),t(16),i()()(),S(17,F,3,0,"div",3)(18,V,2,0,"div",4),i()()),o&2&&(c(8),x("",r.timer,"s"),c(4),s(r.clickCount),c(4),s(r.highScore),c(),v("ngIf",!r.gameRunning),c(),v("ngIf",r.gameRunning))},dependencies:[y,M],styles:['@charset "UTF-8";#divTotal[_ngcontent-%COMP%]{background:linear-gradient(to right,#0e101c,#272b43);height:100vh;display:flex;align-items:center;justify-content:center}.destruccion-mouse-container[_ngcontent-%COMP%]{background-color:#2a2d46;padding:2rem;border-radius:8px;box-shadow:0 4px 8px #0003;max-width:500px;text-align:center}h2[_ngcontent-%COMP%]{color:#d344d5;font-size:2rem;margin-bottom:1rem}.game-info[_ngcontent-%COMP%]{color:#fff;font-size:1.2rem;margin-bottom:1.5rem}.game-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0}.game-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.start-button-container[_ngcontent-%COMP%]{margin-bottom:1.5rem}.game-area[_ngcontent-%COMP%]{background-color:#717171;color:#fff;font-size:1.5rem;height:200px;display:flex;align-items:center;justify-content:center;border-radius:8px;cursor:pointer;transition:background-color .3s ease}.game-area[_ngcontent-%COMP%]:hover{background-color:#595959}']})};export{E as MouseComponent};
