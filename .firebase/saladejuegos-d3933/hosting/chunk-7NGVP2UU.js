import{a as sn}from"./chunk-7AQS2LSG.js";import{$ as S,Ba as en,D as Fi,Fa as Wi,Kb as D,Ma as f,Qb as rn,Rb as Hi,Sa as tn,Tb as ji,Va as le,Wa as E,Y as Ui,Yb as Bi,Z as Qe,a as y,aa as ce,ac as $i,b,ba as et,bc as he,cc as M,d as K,da as A,e as c,fa as xi,fb as nn,ga as Qt,h as De,ha as J,k as Ni,ka as tt,la as _,m as Mi,n as Vi,na as nt,p as Jt,q as Yt,r as Xt,ra as it,rb as de,s as Zt,ua as Pe,wa as Oe,x as Li,ya as Y,za as ue}from"./chunk-PVR3HKZP.js";var zi=function(t){let e=[],n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},no=function(t){let e=[],n=0,i=0;for(;n<t.length;){let r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=t[n++],o=t[n++],a=t[n++],u=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},qi={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){let s=t[r],o=r+1<t.length,a=o?t[r+1]:0,u=r+2<t.length,l=u?t[r+2]:0,h=s>>2,p=(s&3)<<4|a>>4,g=(a&15)<<2|l>>6,N=l&63;u||(N=64,o||(g=64)),i.push(n[h],n[p],n[g],n[N])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zi(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):no(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){let s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;let l=r<t.length?n[t.charAt(r)]:64;++r;let p=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||l==null||p==null)throw new an;let g=s<<2|a>>4;if(i.push(g),l!==64){let N=a<<4&240|l>>2;if(i.push(N),p!==64){let ae=l<<6&192|p;i.push(ae)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},an=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},io=function(t){let e=zi(t);return qi.encodeByteArray(e,!0)},Re=function(t){return io(t).replace(/\./g,"")},un=function(t){try{return qi.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ro(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var so=()=>ro().__FIREBASE_DEFAULTS__,oo=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ao=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&un(t[1]);return e&&JSON.parse(e)},st=()=>{try{return so()||oo()||ao()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ln=t=>{var e,n;return(n=(e=st())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Hl=t=>{let e=ln(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},dn=()=>{var t;return(t=st())===null||t===void 0?void 0:t.config},hn=t=>{var e;return(e=st())===null||e===void 0?void 0:e[`_${t}`]};var rt=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}};function jl(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Re(JSON.stringify(n)),Re(JSON.stringify(o)),""].join(".")}function v(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ki(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(v())}function co(){var t;let e=(t=st())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ji(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Yi(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Xi(){let t=v();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Bl(){return!co()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Zi(){try{return typeof indexedDB=="object"}catch{return!1}}function Qi(){return new Promise((t,e)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var uo="FirebaseError",C=class t extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=uo,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,V.prototype.create)}},V=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){let i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?lo(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new C(r,a,i)}};function lo(t,e){return t.replace(ho,(n,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var ho=/\{\$([^}]+)}/g;function er(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function fe(t,e){if(t===e)return!0;let n=Object.keys(t),i=Object.keys(e);for(let r of n){if(!i.includes(r))return!1;let s=t[r],o=e[r];if(Gi(s)&&Gi(o)){if(!fe(s,o))return!1}else if(s!==o)return!1}for(let r of i)if(!n.includes(r))return!1;return!0}function Gi(t){return t!==null&&typeof t=="object"}function ke(t){let e=[];for(let[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function pe(t){let e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function me(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function tr(t,e){let n=new cn(t,e);return n.subscribe.bind(n)}var cn=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");fo(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=on),r.error===void 0&&(r.error=on),r.complete===void 0&&(r.complete=on);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function fo(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function on(){}var $l=4*60*60*1e3;function L(t){return t&&t._delegate?t._delegate:t}var P=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var X="[DEFAULT]";var fn=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let i=new rt;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mo(e))try{this.getOrInitializeService({instanceIdentifier:X})}catch{}for(let[n,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=X){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return c(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=X){return this.instances.has(e)}getOptions(e=X){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;let r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);let o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let i=this.onInitCallbacks.get(n);if(i)for(let r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:po(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=X){return this.component?this.component.multipleInstances?e:X:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function po(t){return t===X?void 0:t}function mo(t){return t.instantiationMode==="EAGER"}var ot=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new fn(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var go=[],m=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(m||{}),_o={debug:m.DEBUG,verbose:m.VERBOSE,info:m.INFO,warn:m.WARN,error:m.ERROR,silent:m.SILENT},vo=m.INFO,yo={[m.DEBUG]:"log",[m.VERBOSE]:"log",[m.INFO]:"info",[m.WARN]:"warn",[m.ERROR]:"error"},Io=(t,e,...n)=>{if(e<t.logLevel)return;let i=new Date().toISOString(),r=yo[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ge=class{constructor(e){this.name=e,this._logLevel=vo,this._logHandler=Io,this._userLogHandler=null,go.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in m))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_o[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,m.DEBUG,...e),this._logHandler(this,m.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,m.VERBOSE,...e),this._logHandler(this,m.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,m.INFO,...e),this._logHandler(this,m.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,m.WARN,...e),this._logHandler(this,m.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,m.ERROR,...e),this._logHandler(this,m.ERROR,...e)}};var Eo=(t,e)=>e.some(n=>t instanceof n),nr,ir;function wo(){return nr||(nr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bo(){return ir||(ir=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var rr=new WeakMap,mn=new WeakMap,sr=new WeakMap,pn=new WeakMap,_n=new WeakMap;function Ao(t){let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(O(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&rr.set(n,t)}).catch(()=>{}),_n.set(e,t),e}function Co(t){if(mn.has(t))return;let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});mn.set(t,e)}var gn={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return mn.get(t);if(e==="objectStoreNames")return t.objectStoreNames||sr.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return O(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function or(t){gn=t(gn)}function To(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let i=t.call(at(this),e,...n);return sr.set(i,e.sort?e.sort():[e]),O(i)}:bo().includes(t)?function(...e){return t.apply(at(this),e),O(rr.get(this))}:function(...e){return O(t.apply(at(this),e))}}function So(t){return typeof t=="function"?To(t):(t instanceof IDBTransaction&&Co(t),Eo(t,wo())?new Proxy(t,gn):t)}function O(t){if(t instanceof IDBRequest)return Ao(t);if(pn.has(t))return pn.get(t);let e=So(t);return e!==t&&(pn.set(t,e),_n.set(e,t)),e}var at=t=>_n.get(t);function cr(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){let o=indexedDB.open(t,e),a=O(o);return i&&o.addEventListener("upgradeneeded",u=>{i(O(o.result),u.oldVersion,u.newVersion,O(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",l=>r(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var Do=["get","getKey","getAll","getAllKeys","count"],Po=["put","add","delete","clear"],vn=new Map;function ar(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(vn.get(e))return vn.get(e);let n=e.replace(/FromIndex$/,""),i=e!==n,r=Po.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||Do.includes(n)))return;let s=function(o,...a){return c(this,null,function*(){let u=this.transaction(o,r?"readwrite":"readonly"),l=u.store;return i&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),r&&u.done]))[0]})};return vn.set(e,s),s}or(t=>b(y({},t),{get:(e,n,i)=>ar(e,n)||t.get(e,n,i),has:(e,n)=>!!ar(e,n)||t.has(e,n)}));var In=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Oo(n)){let i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}};function Oo(t){let e=t.getComponent();return e?.type==="VERSION"}var En="@firebase/app",ur="0.10.10";var F=new ge("@firebase/app"),Ro="@firebase/app-compat",ko="@firebase/analytics-compat",No="@firebase/analytics",Mo="@firebase/app-check-compat",Vo="@firebase/app-check",Lo="@firebase/auth",Fo="@firebase/auth-compat",Uo="@firebase/database",xo="@firebase/database-compat",Wo="@firebase/functions",Ho="@firebase/functions-compat",jo="@firebase/installations",Bo="@firebase/installations-compat",$o="@firebase/messaging",Go="@firebase/messaging-compat",zo="@firebase/performance",qo="@firebase/performance-compat",Ko="@firebase/remote-config",Jo="@firebase/remote-config-compat",Yo="@firebase/storage",Xo="@firebase/storage-compat",Zo="@firebase/firestore",Qo="@firebase/vertexai-preview",ea="@firebase/firestore-compat",ta="firebase",na="10.13.1";var wn="[DEFAULT]",ia={[En]:"fire-core",[Ro]:"fire-core-compat",[No]:"fire-analytics",[ko]:"fire-analytics-compat",[Vo]:"fire-app-check",[Mo]:"fire-app-check-compat",[Lo]:"fire-auth",[Fo]:"fire-auth-compat",[Uo]:"fire-rtdb",[xo]:"fire-rtdb-compat",[Wo]:"fire-fn",[Ho]:"fire-fn-compat",[jo]:"fire-iid",[Bo]:"fire-iid-compat",[$o]:"fire-fcm",[Go]:"fire-fcm-compat",[zo]:"fire-perf",[qo]:"fire-perf-compat",[Ko]:"fire-rc",[Jo]:"fire-rc-compat",[Yo]:"fire-gcs",[Xo]:"fire-gcs-compat",[Zo]:"fire-fst",[ea]:"fire-fst-compat",[Qo]:"fire-vertex","fire-js":"fire-js",[ta]:"fire-js-all"};var Ne=new Map,ra=new Map,bn=new Map;function lr(t,e){try{t.container.addComponent(e)}catch(n){F.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _e(t){let e=t.name;if(bn.has(e))return F.debug(`There were multiple attempts to register component ${e}.`),!1;bn.set(e,t);for(let n of Ne.values())lr(n,t);for(let n of ra.values())lr(n,t);return!0}function Sn(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function T(t){return t.settings!==void 0}var sa={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},H=new V("app","Firebase",sa);var An=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new P("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw H.create("app-deleted",{appName:this._name})}};var ve=na;function Dn(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let i=Object.assign({name:wn,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw H.create("bad-app-name",{appName:String(r)});if(n||(n=dn()),!n)throw H.create("no-options");let s=Ne.get(r);if(s){if(fe(n,s.options)&&fe(i,s.config))return s;throw H.create("duplicate-app",{appName:r})}let o=new ot(r);for(let u of bn.values())o.addComponent(u);let a=new An(n,i,o);return Ne.set(r,a),a}function ct(t=wn){let e=Ne.get(t);if(!e&&t===wn&&dn())return Dn();if(!e)throw H.create("no-app",{appName:t});return e}function ut(){return Array.from(Ne.values())}function w(t,e,n){var i;let r=(i=ia[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);let s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),F.warn(a.join(" "));return}_e(new P(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var oa="firebase-heartbeat-database",aa=1,Me="firebase-heartbeat-store",yn=null;function pr(){return yn||(yn=cr(oa,aa,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Me)}catch(n){console.warn(n)}}}}).catch(t=>{throw H.create("idb-open",{originalErrorMessage:t.message})})),yn}function ca(t){return c(this,null,function*(){try{let n=(yield pr()).transaction(Me),i=yield n.objectStore(Me).get(mr(t));return yield n.done,i}catch(e){if(e instanceof C)F.warn(e.message);else{let n=H.create("idb-get",{originalErrorMessage:e?.message});F.warn(n.message)}}})}function dr(t,e){return c(this,null,function*(){try{let i=(yield pr()).transaction(Me,"readwrite");yield i.objectStore(Me).put(e,mr(t)),yield i.done}catch(n){if(n instanceof C)F.warn(n.message);else{let i=H.create("idb-set",{originalErrorMessage:n?.message});F.warn(i.message)}}})}function mr(t){return`${t.name}!${t.options.appId}`}var ua=1024,la=30*24*60*60*1e3,Cn=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Tn(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return c(this,null,function*(){var e,n;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=hr();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=la}),this._storage.overwrite(this._heartbeatsCache))}catch(i){F.warn(i)}})}getHeartbeatsHeader(){return c(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=hr(),{heartbeatsToSend:i,unsentEntries:r}=da(this._heartbeatsCache.heartbeats),s=Re(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return F.warn(n),""}})}};function hr(){return new Date().toISOString().substring(0,10)}function da(t,e=ua){let n=[],i=t.slice();for(let r of t){let s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),fr(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),fr(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}var Tn=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return c(this,null,function*(){return Zi()?Qi().then(()=>!0).catch(()=>!1):!1})}read(){return c(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield ca(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return c(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return dr(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return c(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return dr(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function fr(t){return Re(JSON.stringify({version:2,heartbeats:t})).length}function ha(t){_e(new P("platform-logger",e=>new In(e),"PRIVATE")),_e(new P("heartbeat",e=>new Cn(e),"PRIVATE")),w(En,ur,t),w(En,ur,"esm2017"),w("fire-js","")}ha("");var fa="firebase",pa="10.13.1";w(fa,pa,"app");var Ve=new rn("ANGULARFIRE2_VERSION");function _r(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var On=(t,e)=>{let n=e?[e]:ut(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i},lt=class{constructor(){return On(ma)}},ma="app-check";function ye(){}var dt=class{zone;delegate;constructor(e,n=Vi){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,s=function(o){r.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,i)}},Pn=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ye,{},ye,ye)),n.pipe(Ui({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ht=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new dt(Zone.current)),this.insideAngular=n.run(()=>new dt(Zone.current,Mi)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(xi(ue))};static \u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ft(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function ga(t){return ft().ngZone.runOutsideAngular(()=>t())}function Z(t){return ft().ngZone.run(()=>t())}function _a(t){return va(ft())(t)}function va(t){return function(n){return n=n.lift(new Pn(t.ngZone)),n.pipe(Xt(t.outsideAngular),Yt(t.insideAngular))}}var ya=(t,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Z(()=>t.apply(void 0,i))},Q=(t,e)=>function(){let n,i=arguments;for(let s=0;s<arguments.length;s++)typeof i[s]=="function"&&(e&&(n||=Z(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ye,{},ye,ye))),i[s]=ya(i[s],n));let r=ga(()=>t.apply(this,i));if(!e)if(r instanceof De){let s=ft();return r.pipe(Xt(s.outsideAngular),Yt(s.insideAngular))}else return Z(()=>r);return r instanceof De?r.pipe(_a):r instanceof Promise?Z(()=>new Promise((s,o)=>r.then(a=>Z(()=>s(a)),a=>Z(()=>o(a))))):typeof r=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),r.apply(this,arguments)}:Z(()=>r)};var ee=class{constructor(e){return e}},Le=class{constructor(){return ut()}};function Ia(t){return t&&t.length===1?t[0]:new ee(ct())}var Rn=new A("angularfire2._apps"),Ea={provide:ee,useFactory:Ia,deps:[[new J,Rn]]},wa={provide:Le,deps:[[new J,Rn]]};function ba(t){return(e,n)=>{let i=n.get(Wi);w("angularfire",Ve.full,"core"),w("angularfire",Ve.full,"app"),w("angular",Hi.full,i.toString());let r=e.runOutsideAngular(()=>t(n));return new ee(r)}}function Od(t,...e){return nt([Ea,wa,{provide:Rn,useFactory:ba(t),multi:!0,deps:[ue,Oe,ht,...e]}])}var Rd=Q(Dn,!0);function Mr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Vr=Mr,Lr=new V("auth","Firebase",Mr());var yt=new ge("@firebase/auth");function Aa(t,...e){yt.logLevel<=m.WARN&&yt.warn(`Auth (${ve}): ${t}`,...e)}function mt(t,...e){yt.logLevel<=m.ERROR&&yt.error(`Auth (${ve}): ${t}`,...e)}function k(t,...e){throw ei(t,...e)}function te(t,...e){return ei(t,...e)}function Fr(t,e,n){let i=Object.assign(Object.assign({},Vr()),{[e]:n});return new V("auth","Firebase",i).create(e,{appName:t.name})}function W(t){return Fr(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ei(t,...e){if(typeof t!="string"){let n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return Lr.create(t,...e)}function d(t,e,...n){if(!t)throw ei(e,...n)}function U(t){let e="INTERNAL ASSERTION FAILED: "+t;throw mt(e),new Error(e)}function B(t,e){t||U(e)}function Vn(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Ca(){return vr()==="http:"||vr()==="https:"}function vr(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function Ta(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ca()||Ji()||"connection"in navigator)?navigator.onLine:!0}function Sa(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ne=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,B(n>e,"Short delay should be less than long delay!"),this.isMobile=Ki()||Yi()}get(){return Ta()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function ti(t,e){B(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var It=class{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;U("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;U("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;U("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Da={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Pa=new ne(3e4,6e4);function $(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function G(s,o,a,u){return c(this,arguments,function*(t,e,n,i,r={}){return Ur(t,r,()=>c(this,null,function*(){let l={},h={};i&&(e==="GET"?h=i:l={body:JSON.stringify(i)});let p=ke(Object.assign({key:t.config.apiKey},h)).slice(1),g=yield t._getAdditionalHeaders();return g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode),It.fetch()(xr(t,t.config.apiHost,n,p),Object.assign({method:e,headers:g,referrerPolicy:"no-referrer"},l))}))})}function Ur(t,e,n){return c(this,null,function*(){t._canInitEmulator=!1;let i=Object.assign(Object.assign({},Da),e);try{let r=new Ln(t),s=yield Promise.race([n(),r.promise]);r.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw pt(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw pt(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw pt(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw pt(t,"user-disabled",o);let h=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Fr(t,h,l);k(t,h)}}catch(r){if(r instanceof C)throw r;k(t,"network-request-failed",{message:String(r)})}})}function $e(s,o,a,u){return c(this,arguments,function*(t,e,n,i,r={}){let l=yield G(t,e,n,i,r);return"mfaPendingCredential"in l&&k(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function xr(t,e,n,i){let r=`${e}${n}?${i}`;return t.config.emulator?ti(t.config,r):`${t.config.apiScheme}://${r}`}function Oa(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Ln=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(te(this.auth,"network-request-failed")),Pa.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function pt(t,e,n){let i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);let r=te(t,e,i);return r.customData._tokenResponse=n,r}function yr(t){return t!==void 0&&t.enterprise!==void 0}var Fn=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Oa(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function Ra(t,e){return c(this,null,function*(){return G(t,"GET","/v2/recaptchaConfig",$(t,e))})}function ka(t,e){return c(this,null,function*(){return G(t,"POST","/v1/accounts:delete",e)})}function Wr(t,e){return c(this,null,function*(){return G(t,"POST","/v1/accounts:lookup",e)})}function Fe(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ni(t,e=!1){return c(this,null,function*(){let n=L(t),i=yield n.getIdToken(e),r=ii(i);d(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:Fe(kn(r.auth_time)),issuedAtTime:Fe(kn(r.iat)),expirationTime:Fe(kn(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function kn(t){return Number(t)*1e3}function ii(t){let[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return mt("JWT malformed, contained fewer than 3 sections"),null;try{let r=un(n);return r?JSON.parse(r):(mt("Failed to decode base64 JWT payload"),null)}catch(r){return mt("Caught error parsing JWT payload as JSON",r?.toString()),null}}function Ir(t){let e=ii(t);return d(e,"internal-error"),d(typeof e.exp<"u","internal-error"),d(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function xe(t,e,n=!1){return c(this,null,function*(){if(n)return e;try{return yield e}catch(i){throw i instanceof C&&Na(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}})}function Na({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Un=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>c(this,null,function*(){yield this.iteration()}),n)}iteration(){return c(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var We=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fe(this.lastLoginAt),this.creationTime=Fe(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Et(t){return c(this,null,function*(){var e;let n=t.auth,i=yield t.getIdToken(),r=yield xe(t,Wr(n,{idToken:i}));d(r?.users.length,n,"internal-error");let s=r.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Hr(s.providerUserInfo):[],a=Ma(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,h=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new We(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function ri(t){return c(this,null,function*(){let e=L(t);yield Et(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Ma(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function Hr(t){return t.map(e=>{var{providerId:n}=e,i=Jt(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function Va(t,e){return c(this,null,function*(){let n=yield Ur(t,{},()=>c(this,null,function*(){let i=ke({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=xr(t,r,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",It.fetch()(o,{method:"POST",headers:a,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function La(t,e){return c(this,null,function*(){return G(t,"POST","/v2/accounts:revokeToken",$(t,e))})}var Ue=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){d(e.idToken,"internal-error"),d(typeof e.idToken<"u","internal-error"),d(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ir(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){d(e.length!==0,"internal-error");let n=Ir(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return c(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(d(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return c(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:s}=yield Va(e,n);this.updateTokensAndExpiration(i,r,Number(s))})}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){let{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new t;return i&&(d(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(d(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(d(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return U("not implemented")}};function j(t,e){d(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ie=class t{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=Jt(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Un(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new We(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return c(this,null,function*(){let n=yield xe(this,this.stsTokenManager.getToken(this.auth,e));return d(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return ni(this,e)}reload(){return ri(this)}_assign(e){this!==e&&(d(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){d(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return c(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Et(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return c(this,null,function*(){if(T(this.auth.app))return Promise.reject(W(this.auth));let e=yield this.getIdToken();return yield xe(this,ka(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,a,u,l,h;let p=(i=n.displayName)!==null&&i!==void 0?i:void 0,g=(r=n.email)!==null&&r!==void 0?r:void 0,N=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,ae=(o=n.photoURL)!==null&&o!==void 0?o:void 0,Si=(a=n.tenantId)!==null&&a!==void 0?a:void 0,Gt=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,Di=(l=n.createdAt)!==null&&l!==void 0?l:void 0,Pi=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:zt,emailVerified:Oi,isAnonymous:Ri,providerData:qt,stsTokenManager:ki}=n;d(zt&&ki,e,"internal-error");let eo=Ue.fromJSON(this.name,ki);d(typeof zt=="string",e,"internal-error"),j(p,e.name),j(g,e.name),d(typeof Oi=="boolean",e,"internal-error"),d(typeof Ri=="boolean",e,"internal-error"),j(N,e.name),j(ae,e.name),j(Si,e.name),j(Gt,e.name),j(Di,e.name),j(Pi,e.name);let Kt=new t({uid:zt,auth:e,email:g,emailVerified:Oi,displayName:p,isAnonymous:Ri,photoURL:ae,phoneNumber:N,tenantId:Si,stsTokenManager:eo,createdAt:Di,lastLoginAt:Pi});return qt&&Array.isArray(qt)&&(Kt.providerData=qt.map(to=>Object.assign({},to))),Gt&&(Kt._redirectEventId=Gt),Kt}static _fromIdTokenResponse(e,n,i=!1){return c(this,null,function*(){let r=new Ue;r.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield Et(s),s})}static _fromGetAccountInfoResponse(e,n,i){return c(this,null,function*(){let r=n.users[0];d(r.localId!==void 0,"internal-error");let s=r.providerUserInfo!==void 0?Hr(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,a=new Ue;a.updateFromIdToken(i);let u=new t({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new We(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var Er=new Map;function x(t){B(t instanceof Function,"Expected a class definition");let e=Er.get(t);return e?(B(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Er.set(t,e),e)}var Fa=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return c(this,null,function*(){return!0})}_set(n,i){return c(this,null,function*(){this.storage[n]=i})}_get(n){return c(this,null,function*(){let i=this.storage[n];return i===void 0?null:i})}_remove(n){return c(this,null,function*(){delete this.storage[n]})}_addListener(n,i){}_removeListener(n,i){}}return t.type="NONE",t})(),xn=Fa;function gt(t,e,n){return`firebase:${t}:${e}:${n}`}var wt=class t{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;let{config:r,name:s}=this.auth;this.fullUserKey=gt(this.userKey,r.apiKey,s),this.fullPersistenceKey=gt("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return c(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ie._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return c(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,i="authUser"){return c(this,null,function*(){if(!n.length)return new t(x(xn),e,i);let r=(yield Promise.all(n.map(l=>c(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=r[0]||x(xn),o=gt(i,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(o);if(h){let p=Ie._fromJSON(e,h);l!==s&&(a=p),s=l;break}}catch{}let u=r.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,i):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>c(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,i))})}};function wr(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Gr(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jr(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qr(e))return"Blackberry";if(Kr(e))return"Webos";if(Br(e))return"Safari";if((e.includes("chrome/")||$r(e))&&!e.includes("edge/"))return"Chrome";if(zr(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function jr(t=v()){return/firefox\//i.test(t)}function Br(t=v()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $r(t=v()){return/crios\//i.test(t)}function Gr(t=v()){return/iemobile/i.test(t)}function zr(t=v()){return/android/i.test(t)}function qr(t=v()){return/blackberry/i.test(t)}function Kr(t=v()){return/webos/i.test(t)}function si(t=v()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Ua(t=v()){var e;return si(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function xa(){return Xi()&&document.documentMode===10}function Jr(t=v()){return si(t)||zr(t)||Kr(t)||qr(t)||/windows phone/i.test(t)||Gr(t)}function Yr(t,e=[]){let n;switch(t){case"Browser":n=wr(v());break;case"Worker":n=`${wr(v())}-${t}`;break;default:n=t}let i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ve}/${i}`}var Wn=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let i=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});i.onAbort=n,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return c(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let i of this.queue)yield i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(let r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function Wa(n){return c(this,arguments,function*(t,e={}){return G(t,"GET","/v2/passwordPolicy",$(t,e))})}var Ha=6,Hn=class{constructor(e){var n,i,r,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Ha,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(r=u.containsLowercaseLetter)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var jn=class{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bt(this),this.idTokenSubscription=new bt(this),this.beforeStateQueue=new Wn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Lr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=x(n)),this._initializationPromise=this.queue(()=>c(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield wt.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return c(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return c(this,null,function*(){try{let n=yield Wr(this,{idToken:e}),i=yield Ie._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return c(this,null,function*(){var n;if(T(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return d(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return c(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return c(this,null,function*(){try{yield Et(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Sa()}_delete(){return c(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return c(this,null,function*(){if(T(this.app))return Promise.reject(W(this));let n=e?L(e):null;return n&&d(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return c(this,null,function*(){if(!this._deleted)return e&&d(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>c(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return c(this,null,function*(){return T(this.app)?Promise.reject(W(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return T(this.app)?Promise.reject(W(this)):this.queue(()=>c(this,null,function*(){yield this.assertedPersistence.setPersistence(x(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return c(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return c(this,null,function*(){let e=yield Wa(this),n=new Hn(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new V("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},n)}})}revokeAccessToken(e){return c(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),yield La(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return c(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return c(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&x(e)||this._popupRedirectResolver;d(n,this,"argument-error"),this.redirectPersistenceManager=yield wt.create(this,[x(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return c(this,null,function*(){var n,i;return this._isInitialized&&(yield this.queue(()=>c(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return c(this,null,function*(){if(e===this.currentUser)return this.queue(()=>c(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(d(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,i,r);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return c(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return d(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Yr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return c(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n})}_getAppCheckToken(){return c(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&Aa(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function re(t){return L(t)}var bt=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=tr(n=>this.observer=n)}get next(){return d(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Ot={loadJS(){return c(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ja(t){Ot=t}function Xr(t){return Ot.loadJS(t)}function Ba(){return Ot.recaptchaEnterpriseScript}function $a(){return Ot.gapiScript}function Zr(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var Ga="recaptcha-enterprise",za="NO_RECAPTCHA",Bn=class{constructor(e){this.type=Ga,this.auth=re(e)}verify(e="verify",n=!1){return c(this,null,function*(){function i(s){return c(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>c(this,null,function*(){Ra(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Fn(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{a(u)})}))})}function r(s,o,a){let u=window.grecaptcha;yr(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(za)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{i(this.auth).then(a=>{if(!n&&yr(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Ba();u.length!==0&&(u+=a),Xr(u).then(()=>{r(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function br(t,e,n,i=!1){return c(this,null,function*(){let r=new Bn(t),s;try{s=yield r.verify(n)}catch{s=yield r.verify(n,!0)}let o=Object.assign({},e);return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function $n(t,e,n,i){return c(this,null,function*(){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield br(t,e,n,n==="getOobCode");return i(t,s)}else return i(t,e).catch(s=>c(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield br(t,e,n,n==="getOobCode");return i(t,o)}else return Promise.reject(s)}))})}function oi(t,e){let n=Sn(t,"auth");if(n.isInitialized()){let r=n.getImmediate(),s=n.getOptions();if(fe(s,e??{}))return r;k(r,"already-initialized")}return n.initialize({options:e})}function qa(t,e){let n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(x);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function ai(t,e,n){let i=re(t);d(i._canInitEmulator,i,"emulator-config-failed"),d(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!n?.disableWarnings,s=Qr(e),{host:o,port:a}=Ka(e),u=a===null?"":`:${a}`;i.config.emulator={url:`${s}//${o}${u}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||Ja()}function Qr(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Ka(t){let e=Qr(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let s=r[1];return{host:s,port:Ar(i.substr(s.length+1))}}else{let[s,o]=i.split(":");return{host:s,port:Ar(o)}}}function Ar(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function Ja(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var He=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return U("not implemented")}_getIdTokenResponse(e){return U("not implemented")}_linkToIdToken(e,n){return U("not implemented")}_getReauthenticationResolver(e){return U("not implemented")}};function Ya(t,e){return c(this,null,function*(){return G(t,"POST","/v1/accounts:signUp",e)})}function Xa(t,e){return c(this,null,function*(){return $e(t,"POST","/v1/accounts:signInWithPassword",$(t,e))})}function Za(t,e){return c(this,null,function*(){return $e(t,"POST","/v1/accounts:signInWithEmailLink",$(t,e))})}function Qa(t,e){return c(this,null,function*(){return $e(t,"POST","/v1/accounts:signInWithEmailLink",$(t,e))})}var je=class t extends He{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new t(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return c(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $n(e,n,"signInWithPassword",Xa);case"emailLink":return Za(e,{email:this._email,oobCode:this._password});default:k(e,"internal-error")}})}_linkToIdToken(e,n){return c(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $n(e,i,"signUpPassword",Ya);case"emailLink":return Qa(e,{idToken:n,email:this._email,oobCode:this._password});default:k(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Nn(t,e){return c(this,null,function*(){return $e(t,"POST","/v1/accounts:signInWithIdp",$(t,e))})}function ec(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tc(t){let e=pe(me(t)).link,n=e?pe(me(e)).deep_link_id:null,i=pe(me(t)).deep_link_id;return(i?pe(me(i)).link:null)||i||n||e||t}var At=class t{constructor(e){var n,i,r,s,o,a;let u=pe(me(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(i=u.oobCode)!==null&&i!==void 0?i:null,p=ec((r=u.mode)!==null&&r!==void 0?r:null);d(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=tc(e);try{return new t(n)}catch{return null}}};var es=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,i){return je._fromEmailAndPassword(n,i)}static credentialWithLink(n,i){let r=At.parseLink(i);return d(r,"argument-error"),je._fromEmailAndCode(n,r.code,r.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Ct=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Gn=class extends Ct{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function nc(t,e){return c(this,null,function*(){return $e(t,"POST","/v1/accounts:signUp",$(t,e))})}var Ee=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,i,r=!1){return c(this,null,function*(){let s=yield Ie._fromIdTokenResponse(e,i,r),o=Cr(i);return new t({user:s,providerId:o,_tokenResponse:i,operationType:n})})}static _forOperation(e,n,i){return c(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=Cr(i);return new t({user:e,providerId:r,_tokenResponse:i,operationType:n})})}};function Cr(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var zn=class t extends C{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new t(e,n,i,r)}};function ts(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?zn._fromErrorAndOperation(t,s,e,i):s})}function ic(t,e,n=!1){return c(this,null,function*(){let i=yield xe(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ee._forOperation(t,"link",i)})}function rc(t,e,n=!1){return c(this,null,function*(){let{auth:i}=t;if(T(i.app))return Promise.reject(W(i));let r="reauthenticate";try{let s=yield xe(t,ts(i,r,e,t),n);d(s.idToken,i,"internal-error");let o=ii(s.idToken);d(o,i,"internal-error");let{sub:a}=o;return d(t.uid===a,i,"user-mismatch"),Ee._forOperation(t,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&k(i,"user-mismatch"),s}})}function ns(t,e,n=!1){return c(this,null,function*(){if(T(t.app))return Promise.reject(W(t));let i="signIn",r=yield ts(t,i,e),s=yield Ee._fromIdTokenResponse(t,i,r);return n||(yield t._updateCurrentUser(s.user)),s})}function ci(t,e){return c(this,null,function*(){return ns(re(t),e)})}function is(t){return c(this,null,function*(){let e=re(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function ui(t,e,n){return c(this,null,function*(){if(T(t.app))return Promise.reject(W(t));let i=re(t),o=yield $n(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nc).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&is(t),u}),a=yield Ee._fromIdTokenResponse(i,"signIn",o);return yield i._updateCurrentUser(a.user),a})}function li(t,e,n){return T(t.app)?Promise.reject(W(t)):ci(L(t),es.credential(e,n)).catch(i=>c(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&is(t),i}))}function Rt(t,e,n,i){return L(t).onIdTokenChanged(e,n,i)}function di(t,e,n){return L(t).beforeAuthStateChanged(e,n)}function kt(t,e,n,i){return L(t).onAuthStateChanged(e,n,i)}var Tt="__sak";var St=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Tt,"1"),this.storage.removeItem(Tt),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var sc=1e3,oc=10,ac=(()=>{class t extends St{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,i)=>this.onStorageEvent(n,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Jr(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),s=this.localCache[i];r!==s&&n(i,s,r)}}onStorageEvent(n,i=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let r=n.key;i?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);xa()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,oc):s()}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let s of Array.from(r))s(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:i,newValue:r}),!0)})},sc)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,i){return c(this,null,function*(){yield K(t.prototype,this,"_set").call(this,n,i),this.localCache[n]=JSON.stringify(i)})}_get(n){return c(this,null,function*(){let i=yield K(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(i),i})}_remove(n){return c(this,null,function*(){yield K(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),rs=ac;var cc=(()=>{class t extends St{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,i){}_removeListener(n,i){}}return t.type="SESSION",t})(),hi=cc;function uc(t){return Promise.all(t.map(e=>c(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var lc=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let i=this.receivers.find(s=>s.isListeningto(n));if(i)return i;let r=new t(n);return this.receivers.push(r),r}isListeningto(n){return this.eventTarget===n}handleEvent(n){return c(this,null,function*(){let i=n,{eventId:r,eventType:s,data:o}=i.data,a=this.handlersMap[s];if(!a?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:s});let u=Array.from(a).map(h=>c(this,null,function*(){return h(i.origin,o)})),l=yield uc(u);i.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})})}_subscribe(n,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(i)}_unsubscribe(n,i){this.handlersMap[n]&&i&&this.handlersMap[n].delete(i),(!i||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function ss(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}var qn=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,i=50){return c(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let l=ss("",20);r.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(g.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function R(){return window}function dc(t){R().location.href=t}function os(){return typeof R().WorkerGlobalScope<"u"&&typeof R().importScripts=="function"}function hc(){return c(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function fc(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function pc(){return os()?self:null}var as="firebaseLocalStorageDb",mc=1,Dt="firebaseLocalStorage",cs="fbase_key",ie=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Nt(t,e){return t.transaction([Dt],e?"readwrite":"readonly").objectStore(Dt)}function gc(){let t=indexedDB.deleteDatabase(as);return new ie(t).toPromise()}function Kn(){let t=indexedDB.open(as,mc);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let i=t.result;try{i.createObjectStore(Dt,{keyPath:cs})}catch(r){n(r)}}),t.addEventListener("success",()=>c(this,null,function*(){let i=t.result;i.objectStoreNames.contains(Dt)?e(i):(i.close(),yield gc(),e(yield Kn()))}))})}function Tr(t,e,n){return c(this,null,function*(){let i=Nt(t,!0).put({[cs]:e,value:n});return new ie(i).toPromise()})}function _c(t,e){return c(this,null,function*(){let n=Nt(t,!1).get(e),i=yield new ie(n).toPromise();return i===void 0?null:i.value})}function Sr(t,e){let n=Nt(t,!0).delete(e);return new ie(n).toPromise()}var vc=800,yc=3,Ic=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return c(this,null,function*(){return this.db?this.db:(this.db=yield Kn(),this.db)})}_withRetries(n){return c(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield n(r)}catch(r){if(i++>yc)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return c(this,null,function*(){return os()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return c(this,null,function*(){this.receiver=lc._getInstance(pc()),this.receiver._subscribe("keyChanged",(n,i)=>c(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(n,i)=>c(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return c(this,null,function*(){var n,i;if(this.activeServiceWorker=yield hc(),!this.activeServiceWorker)return;this.sender=new qn(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((n=r[0])===null||n===void 0)&&n.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return c(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||fc()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return c(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Kn();return yield Tr(n,Tt,"1"),yield Sr(n,Tt),!0}catch{}return!1})}_withPendingWrite(n){return c(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,i){return c(this,null,function*(){return this._withPendingWrite(()=>c(this,null,function*(){return yield this._withRetries(r=>Tr(r,n,i)),this.localCache[n]=i,this.notifyServiceWorker(n)}))})}_get(n){return c(this,null,function*(){let i=yield this._withRetries(r=>_c(r,n));return this.localCache[n]=i,i})}_remove(n){return c(this,null,function*(){return this._withPendingWrite(()=>c(this,null,function*(){return yield this._withRetries(i=>Sr(i,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return c(this,null,function*(){let n=yield this._withRetries(s=>{let o=Nt(s,!1).getAll();return new ie(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),i.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),i.push(s));return i})}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let s of Array.from(r))s(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>c(this,null,function*(){return this._poll()}),vc)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),us=Ic;var xd=Zr("rcb"),Wd=new ne(3e4,6e4);function Ec(t,e){return e?x(e):(d(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Be=class extends He{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Nn(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Nn(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Nn(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function wc(t){return ns(t.auth,new Be(t),t.bypassAuthState)}function bc(t){let{auth:e,user:n}=t;return d(n,e,"internal-error"),rc(n,new Be(t),t.bypassAuthState)}function Ac(t){return c(this,null,function*(){let{auth:e,user:n}=t;return d(n,e,"internal-error"),ic(n,new Be(t),t.bypassAuthState)})}var Jn=class{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>c(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return c(this,null,function*(){let{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wc;case"linkViaPopup":case"linkViaRedirect":return Ac;case"reauthViaPopup":case"reauthViaRedirect":return bc;default:k(this.auth,"internal-error")}}resolve(e){B(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){B(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Hd=new ne(2e3,1e4);var Cc="pendingRedirect",_t=new Map,Yn=class t extends Jn{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}execute(){return c(this,null,function*(){let e=_t.get(this.auth._key());if(!e){try{let i=(yield Tc(this.resolver,this.auth))?yield K(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}_t.set(this.auth._key(),e)}return this.bypassAuthState||_t.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return c(this,null,function*(){if(e.type==="signInViaRedirect")return K(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,K(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return c(this,null,function*(){})}cleanUp(){}};function Tc(t,e){return c(this,null,function*(){let n=Pc(e),i=Dc(t);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(n))==="true";return yield i._remove(n),r})}function Sc(t,e){_t.set(t._key(),e)}function Dc(t){return x(t._redirectPersistence)}function Pc(t){return gt(Cc,t.config.apiKey,t.name)}function Oc(t,e,n=!1){return c(this,null,function*(){if(T(t.app))return Promise.reject(W(t));let i=re(t),r=Ec(i,e),o=yield new Yn(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield i._persistUserIfCurrent(o.user),yield i._setRedirectUser(null,e)),o})}var Rc=10*60*1e3,Xn=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kc(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!ls(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(te(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Rc&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dr(e))}saveEventToCache(e){this.cachedEventUids.add(Dr(e)),this.lastProcessedEventTime=Date.now()}};function Dr(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ls({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function kc(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ls(t);default:return!1}}function Nc(n){return c(this,arguments,function*(t,e={}){return G(t,"GET","/v1/projects",e)})}var Mc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vc=/^https?/;function Lc(t){return c(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield Nc(t);for(let n of e)try{if(Fc(n))return}catch{}k(t,"unauthorized-domain")})}function Fc(t){let e=Vn(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!Vc.test(n))return!1;if(Mc.test(t))return i===t;let r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var Uc=new ne(3e4,6e4);function Pr(){let t=R().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function xc(t){return new Promise((e,n)=>{var i,r,s;function o(){Pr(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Pr(),n(te(t,"network-request-failed"))},timeout:Uc.get()})}if(!((r=(i=R().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=R().gapi)===null||s===void 0)&&s.load)o();else{let a=Zr("iframefcb");return R()[a]=()=>{gapi.load?o():n(te(t,"network-request-failed"))},Xr(`${$a()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw vt=null,e})}var vt=null;function Wc(t){return vt=vt||xc(t),vt}var Hc=new ne(5e3,15e3),jc="__/auth/iframe",Bc="emulator/auth/iframe",$c={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zc(t){let e=t.config;d(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?ti(e,Bc):`https://${t.config.authDomain}/${jc}`,i={apiKey:e.apiKey,appName:t.name,v:ve},r=Gc.get(t.config.apiHost);r&&(i.eid=r);let s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${ke(i).slice(1)}`}function qc(t){return c(this,null,function*(){let e=yield Wc(t),n=R().gapi;return d(n,t,"internal-error"),e.open({where:document.body,url:zc(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$c,dontclear:!0},i=>new Promise((r,s)=>c(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let o=te(t,"network-request-failed"),a=R().setTimeout(()=>{s(o)},Hc.get());function u(){R().clearTimeout(a),r(i)}i.ping(u).then(u,()=>{s(o)})})))})}var Kc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Jc=500,Yc=600,Xc="_blank",Zc="http://localhost",Pt=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Qc(t,e,n,i=Jc,r=Yc){let s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString(),a="",u=Object.assign(Object.assign({},Kc),{width:i.toString(),height:r.toString(),top:s,left:o}),l=v().toLowerCase();n&&(a=$r(l)?Xc:n),jr(l)&&(e=e||Zc,u.scrollbars="yes");let h=Object.entries(u).reduce((g,[N,ae])=>`${g}${N}=${ae},`,"");if(Ua(l)&&a!=="_self")return eu(e||"",a),new Pt(null);let p=window.open(e||"",a,h);d(p,t,"popup-blocked");try{p.focus()}catch{}return new Pt(p)}function eu(t,e){let n=document.createElement("a");n.href=t,n.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}var tu="__/auth/handler",nu="emulator/auth/handler",iu=encodeURIComponent("fac");function Or(t,e,n,i,r,s){return c(this,null,function*(){d(t.config.authDomain,t,"auth-domain-config-required"),d(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:ve,eventId:r};if(e instanceof Ct){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",er(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(s||{}))o[h]=p}if(e instanceof Gn){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${iu}=${encodeURIComponent(u)}`:"";return`${ru(t)}?${ke(a).slice(1)}${l}`})}function ru({config:t}){return t.emulator?ti(t,nu):`https://${t.authDomain}/${tu}`}var Mn="webStorageSupport",Zn=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hi,this._completeRedirectFn=Oc,this._overrideRedirectResult=Sc}_openPopup(e,n,i,r){return c(this,null,function*(){var s;B((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield Or(e,n,i,Vn(),r);return Qc(e,o,ss())})}_openRedirect(e,n,i,r){return c(this,null,function*(){yield this._originValidation(e);let s=yield Or(e,n,i,Vn(),r);return dc(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(B(s,"If manager is not set, promise should be"),s)}let i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}initAndGetManager(e){return c(this,null,function*(){let n=yield qc(e),i=new Xn(e);return n.register("authEvent",r=>(d(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Mn,{type:Mn},r=>{var s;let o=(s=r?.[0])===null||s===void 0?void 0:s[Mn];o!==void 0&&n(!!o),k(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Lc(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Jr()||Br()||si()}},ds=Zn;var Rr="@firebase/auth",kr="1.7.8";var Qn=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return c(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){d(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function su(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ou(t){_e(new P("auth",(e,{options:n})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;d(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Yr(t)},l=new jn(i,r,s,u);return qa(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),_e(new P("auth-internal",e=>{let n=re(e.getProvider("auth").getImmediate());return(i=>new Qn(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),w(Rr,kr,su(t)),w(Rr,kr,"esm2017")}var au=5*60,cu=hn("authIdTokenMaxAge")||au,Nr=null,uu=t=>e=>c(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>cu)return;let r=n?.token;Nr!==r&&(Nr=r,yield fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function fi(t=ct()){let e=Sn(t,"auth");if(e.isInitialized())return e.getImmediate();let n=oi(t,{popupRedirectResolver:ds,persistence:[us,rs,hi]}),i=hn("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(i,location.origin);if(location.origin===s.origin){let o=uu(s.toString());di(n,o,()=>o(n.currentUser)),Rt(n,a=>o(a))}}let r=ln("auth");return r&&ai(n,`http://${r}`),n}function lu(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}ja({loadJS(t){return new Promise((e,n)=>{let i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{let s=te("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",lu().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ou("Browser");function fs(t){return new De(function(e){var n=kt(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var ps="auth",se=class{constructor(e){return e}},pi=class{constructor(){return On(ps)}};var mi=new A("angularfire2.auth-instances");function Qu(t,e){let n=_r(ps,t,e);return n&&new se(n)}function el(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new se(i)}}var tl={provide:pi,deps:[[new J,mi]]},nl={provide:se,useFactory:Qu,deps:[[new J,mi],ee]};function Rh(t,...e){return w("angularfire",Ve.full,"auth"),nt([nl,tl,{provide:mi,useFactory:el(t),multi:!0,deps:[ue,Oe,ht,Le,[new J,lt],...e]}])}var ms=Q(fs,!0);var gs=Q(ui,!0);var kh=Q(fi,!0);var _s=Q(li,!0);var vs=class t{auth=Qt(se);register(e){return gs(this.auth,e.email,e.password)}logIn(e){return _s(this.auth,e.email,e.password)}logOut(){return this.auth.signOut()}getUser(){return ms(this.auth)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})};var Ds=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(f(tn),f(en))},e.\u0275dir=_({type:e});let t=e;return t})(),Ei=(()=>{let e=class e extends Ds{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Pe(e)))(s||e)}})(),e.\u0275dir=_({type:e,features:[E]});let t=e;return t})(),Xe=new A(""),il={provide:Xe,useExisting:S(()=>rl),multi:!0},rl=(()=>{let e=class e extends Ei{writeValue(i){this.setProperty("checked",i)}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Pe(e)))(s||e)}})(),e.\u0275dir=_({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,s){r&1&&de("change",function(a){return s.onChange(a.target.checked)})("blur",function(){return s.onTouched()})},features:[D([il]),E]});let t=e;return t})(),sl={provide:Xe,useExisting:S(()=>Ps),multi:!0};function ol(){let t=sn()?sn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var al=new A(""),Ps=(()=>{let e=class e extends Ds{constructor(i,r,s){super(i,r),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!ol())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(f(tn),f(en),f(al,8))},e.\u0275dir=_({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){r&1&&de("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[D([sl]),E]});let t=e;return t})();function z(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function Os(t){return t!=null&&typeof t.length=="number"}var Te=new A(""),Se=new A(""),cl=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ys=class{static min(e){return ul(e)}static max(e){return ll(e)}static required(e){return dl(e)}static requiredTrue(e){return hl(e)}static email(e){return fl(e)}static minLength(e){return pl(e)}static maxLength(e){return ml(e)}static pattern(e){return gl(e)}static nullValidator(e){return Rs(e)}static compose(e){return Fs(e)}static composeAsync(e){return Us(e)}};function ul(t){return e=>{if(z(e.value)||z(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function ll(t){return e=>{if(z(e.value)||z(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function dl(t){return z(t.value)?{required:!0}:null}function hl(t){return t.value===!0?null:{required:!0}}function fl(t){return z(t.value)||cl.test(t.value)?null:{email:!0}}function pl(t){return e=>z(e.value)||!Os(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function ml(t){return e=>Os(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function gl(t){if(!t)return Rs;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),i=>{if(z(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function Rs(t){return null}function ks(t){return t!=null}function Ns(t){return ji(t)?Zt(t):t}function Ms(t){let e={};return t.forEach(n=>{e=n!=null?y(y({},e),n):e}),Object.keys(e).length===0?null:e}function Vs(t,e){return e.map(n=>n(t))}function _l(t){return!t.validate}function Ls(t){return t.map(e=>_l(e)?e:n=>e.validate(n))}function Fs(t){if(!t)return null;let e=t.filter(ks);return e.length==0?null:function(n){return Ms(Vs(n,e))}}function wi(t){return t!=null?Fs(Ls(t)):null}function Us(t){if(!t)return null;let e=t.filter(ks);return e.length==0?null:function(n){let i=Vs(n,e).map(Ns);return Fi(i).pipe(Li(Ms))}}function bi(t){return t!=null?Us(Ls(t)):null}function Is(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function xs(t){return t._rawValidators}function Ws(t){return t._rawAsyncValidators}function gi(t){return t?Array.isArray(t)?t:[t]:[]}function Vt(t,e){return Array.isArray(t)?t.includes(e):t===e}function Es(t,e){let n=gi(e);return gi(t).forEach(r=>{Vt(n,r)||n.push(r)}),n}function ws(t,e){return gi(e).filter(n=>!Vt(t,n))}var Lt=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=wi(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=bi(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},I=class extends Lt{get formDirective(){return null}get path(){return null}},oe=class extends Lt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Ft=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},vl={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},of=b(y({},vl),{"[class.ng-submitted]":"isSubmitted"}),af=(()=>{let e=class e extends Ft{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(f(oe,2))},e.\u0275dir=_({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){r&2&&nn("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[E]});let t=e;return t})(),cf=(()=>{let e=class e extends Ft{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(f(I,10))},e.\u0275dir=_({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){r&2&&nn("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[E]});let t=e;return t})();var Ge="VALID",Mt="INVALID",we="PENDING",ze="DISABLED",q=class{},Ut=class extends q{constructor(e,n){super(),this.value=e,this.source=n}},Ke=class extends q{constructor(e,n){super(),this.pristine=e,this.source=n}},Je=class extends q{constructor(e,n){super(),this.touched=e,this.source=n}},be=class extends q{constructor(e,n){super(),this.status=e,this.source=n}},_i=class extends q{constructor(e){super(),this.source=e}},vi=class extends q{constructor(e){super(),this.source=e}};function Ai(t){return(jt(t)?t.validators:t)||null}function yl(t){return Array.isArray(t)?wi(t):t||null}function Ci(t,e){return(jt(e)?e.asyncValidators:t)||null}function Il(t){return Array.isArray(t)?bi(t):t||null}function jt(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Hs(t,e,n){let i=t.controls;if(!(e?Object.keys(i):i).length)throw new Qe(1e3,"");if(!i[n])throw new Qe(1001,"")}function js(t,e,n){t._forEachChild((i,r)=>{if(n[r]===void 0)throw new Qe(1002,"")})}var Ae=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=he(()=>this.statusReactive()),this.statusReactive=le(void 0),this._pristine=he(()=>this.pristineReactive()),this.pristineReactive=le(!0),this._touched=he(()=>this.touchedReactive()),this.touchedReactive=le(!1),this._events=new Ni,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return M(this.statusReactive)}set status(e){M(()=>this.statusReactive.set(e))}get valid(){return this.status===Ge}get invalid(){return this.status===Mt}get pending(){return this.status==we}get disabled(){return this.status===ze}get enabled(){return this.status!==ze}get pristine(){return M(this.pristineReactive)}set pristine(e){M(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return M(this.touchedReactive)}set touched(e){M(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Es(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Es(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ws(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ws(e,this._rawAsyncValidators))}hasValidator(e){return Vt(this._rawValidators,e)}hasAsyncValidator(e){return Vt(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(b(y({},e),{sourceControl:i})),n&&e.emitEvent!==!1&&this._events.next(new Je(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),n&&e.emitEvent!==!1&&this._events.next(new Je(!1,i))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(b(y({},e),{sourceControl:i})),n&&e.emitEvent!==!1&&this._events.next(new Ke(!1,i))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),n&&e.emitEvent!==!1&&this._events.next(new Ke(!0,i))}markAsPending(e={}){this.status=we;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new be(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(b(y({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ze,this.errors=null,this._forEachChild(r=>{r.disable(b(y({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ut(this.value,i)),this._events.next(new be(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(b(y({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ge,this._forEachChild(i=>{i.enable(b(y({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(b(y({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ge||this.status===we)&&this._runAsyncValidator(i,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ut(this.value,n)),this._events.next(new be(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(b(y({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ze:Ge}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=we,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let i=Ns(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new be(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,i)}_initObservables(){this.valueChanges=new Y,this.statusChanges=new Y}_calculateStatus(){return this._allControlsDisabled()?ze:this.errors?Mt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(we)?we:this._anyControlsHaveStatus(Mt)?Mt:Ge}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),r&&this._events.next(new Ke(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Je(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){jt(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=yl(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Il(this._rawAsyncValidators)}},Ce=class extends Ae{constructor(e,n,i){super(Ai(n),Ci(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){js(this,!0,e),Object.keys(e).forEach(i=>{Hs(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((r,s)=>{i=n(i,r,s)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var yi=class extends Ce{};var Ze=new A("CallSetDisabledState",{providedIn:"root",factory:()=>Bt}),Bt="always";function $t(t,e){return[...e.path,t]}function xt(t,e,n=Bt){Ti(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),wl(t,e),Al(t,e),bl(t,e),El(t,e)}function bs(t,e,n=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Ht(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Wt(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function El(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Ti(t,e){let n=xs(t);e.validator!==null?t.setValidators(Is(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=Ws(t);e.asyncValidator!==null?t.setAsyncValidators(Is(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();Wt(e._rawValidators,r),Wt(e._rawAsyncValidators,r)}function Ht(t,e){let n=!1;if(t!==null){if(e.validator!==null){let r=xs(t);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.validator);s.length!==r.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let r=Ws(t);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(n=!0,t.setAsyncValidators(s))}}}let i=()=>{};return Wt(e._rawValidators,i),Wt(e._rawAsyncValidators,i),n}function wl(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Bs(t,e)})}function bl(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Bs(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Bs(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Al(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function $s(t,e){t==null,Ti(t,e)}function Cl(t,e){return Ht(t,e)}function Gs(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Tl(t){return Object.getPrototypeOf(t.constructor)===Ei}function zs(t,e){t._syncPendingControls(),e.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function qs(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(s=>{s.constructor===Ps?n=s:Tl(s)?i=s:r=s}),r||i||n||null}function Sl(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var Dl={provide:I,useExisting:S(()=>Pl)},qe=Promise.resolve(),Pl=(()=>{let e=class e extends I{get submitted(){return M(this.submittedReactive)}constructor(i,r,s){super(),this.callSetDisabledState=s,this._submitted=he(()=>this.submittedReactive()),this.submittedReactive=le(!1),this._directives=new Set,this.ngSubmit=new Y,this.form=new Ce({},wi(i),bi(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){qe.then(()=>{let r=this._findContainer(i.path);i.control=r.registerControl(i.name,i.control),xt(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){qe.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){qe.then(()=>{let r=this._findContainer(i.path),s=new Ce({});$s(s,i),r.registerControl(i.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){qe.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,r){qe.then(()=>{this.form.get(i.path).setValue(r)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submittedReactive.set(!0),zs(this.form,this._directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}};e.\u0275fac=function(r){return new(r||e)(f(Te,10),f(Se,10),f(Ze,8))},e.\u0275dir=_({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,s){r&1&&de("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[D([Dl]),E]});let t=e;return t})();function As(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Cs(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Ye=class extends Ae{constructor(e=null,n,i){super(Ai(n),Ci(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),jt(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Cs(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){As(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){As(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Cs(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Ol=t=>t instanceof Ye,Rl=(()=>{let e=class e extends I{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return $t(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Pe(e)))(s||e)}})(),e.\u0275dir=_({type:e,features:[E]});let t=e;return t})();var kl={provide:oe,useExisting:S(()=>Nl)},Ts=Promise.resolve(),Nl=(()=>{let e=class e extends oe{constructor(i,r,s,o,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new Ye,this._registered=!1,this.name="",this.update=new Y,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=qs(this,o)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),Gs(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){xt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){Ts.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,s=r!==0&&$i(r);Ts.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?$t(i,this._parent):[i]}};e.\u0275fac=function(r){return new(r||e)(f(I,9),f(Te,10),f(Se,10),f(Xe,10),f(Bi,8),f(Ze,8))},e.\u0275dir=_({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[D([kl]),E,it]});let t=e;return t})(),lf=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=_({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),Ml={provide:Xe,useExisting:S(()=>Vl),multi:!0},Vl=(()=>{let e=class e extends Ei{writeValue(i){let r=i??"";this.setProperty("value",r)}registerOnChange(i){this.onChange=r=>{i(r==""?null:parseFloat(r))}}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Pe(e)))(s||e)}})(),e.\u0275dir=_({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,s){r&1&&de("input",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},features:[D([Ml]),E]});let t=e;return t})();var Ks=new A("");var Ll={provide:I,useExisting:S(()=>Js)},Js=(()=>{let e=class e extends I{get submitted(){return M(this._submittedReactive)}set submitted(i){this._submittedReactive.set(i)}constructor(i,r,s){super(),this.callSetDisabledState=s,this._submitted=he(()=>this._submittedReactive()),this._submittedReactive=le(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Y,this._setValidators(i),this._setAsyncValidators(r)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ht(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let r=this.form.get(i.path);return xt(r,i,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),r}getControl(i){return this.form.get(i.path)}removeControl(i){bs(i.control||null,i,!1),Sl(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,r){this.form.get(i.path).setValue(r)}onSubmit(i){return this._submittedReactive.set(!0),zs(this.form,this.directives),this.ngSubmit.emit(i),this.form._events.next(new _i(this.control)),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this._submittedReactive.set(!1),this.form._events.next(new vi(this.form))}_updateDomValue(){this.directives.forEach(i=>{let r=i.control,s=this.form.get(i.path);r!==s&&(bs(r||null,i),Ol(s)&&(xt(s,i,this.callSetDisabledState),i.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let r=this.form.get(i.path);$s(r,i),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let r=this.form.get(i.path);r&&Cl(r,i)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ti(this.form,this),this._oldForm&&Ht(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(f(Te,10),f(Se,10),f(Ze,8))},e.\u0275dir=_({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,s){r&1&&de("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[D([Ll]),E,it]});let t=e;return t})(),Fl={provide:I,useExisting:S(()=>Ys)},Ys=(()=>{let e=class e extends Rl{constructor(i,r,s){super(),this.name=null,this._parent=i,this._setValidators(r),this._setAsyncValidators(s)}_checkParentType(){Zs(this._parent)}};e.\u0275fac=function(r){return new(r||e)(f(I,13),f(Te,10),f(Se,10))},e.\u0275dir=_({type:e,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[D([Fl]),E]});let t=e;return t})(),Ul={provide:I,useExisting:S(()=>Xs)},Xs=(()=>{let e=class e extends I{constructor(i,r,s){super(),this.name=null,this._parent=i,this._setValidators(r),this._setAsyncValidators(s)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return $t(this.name==null?this.name:this.name.toString(),this._parent)}_checkParentType(){Zs(this._parent)}};e.\u0275fac=function(r){return new(r||e)(f(I,13),f(Te,10),f(Se,10))},e.\u0275dir=_({type:e,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[D([Ul]),E]});let t=e;return t})();function Zs(t){return!(t instanceof Ys)&&!(t instanceof Js)&&!(t instanceof Xs)}var xl={provide:oe,useExisting:S(()=>Wl)},Wl=(()=>{let e=class e extends oe{set isDisabled(i){}constructor(i,r,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Y,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=qs(this,o)}ngOnChanges(i){this._added||this._setUpControl(),Gs(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return $t(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(f(I,13),f(Te,10),f(Se,10),f(Xe,10),f(Ks,8))},e.\u0275dir=_({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[D([xl]),E,it]});let t=e;return t})();var Qs=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=tt({type:e}),e.\u0275inj=et({});let t=e;return t})(),Ii=class extends Ae{constructor(e,n,i){super(Ai(n),Ci(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,i={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,n={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),n&&(this.controls.splice(r,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){js(this,!1,e),e.forEach((i,r)=>{Hs(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,i)=>i._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,i)=>{e(n,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function Ss(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var df=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let i=new e;return i.useNonNullable=!0,i}group(i,r=null){let s=this._reduceControls(i),o={};return Ss(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Ce(s,o)}record(i,r=null){let s=this._reduceControls(i);return new yi(s,r)}control(i,r,s){let o={};return this.useNonNullable?(Ss(r)?o=r:(o.validators=r,o.asyncValidators=s),new Ye(i,b(y({},o),{nonNullable:!0}))):new Ye(i,r,s)}array(i,r,s){let o=i.map(a=>this._createControl(a));return new Ii(o,r,s)}_reduceControls(i){let r={};return Object.keys(i).forEach(s=>{r[s]=this._createControl(i[s])}),r}_createControl(i){if(i instanceof Ye)return i;if(i instanceof Ae)return i;if(Array.isArray(i)){let r=i[0],s=i.length>1?i[1]:null,o=i.length>2?i[2]:null;return this.control(r,s,o)}else return this.control(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var hf=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:Ze,useValue:i.callSetDisabledState??Bt}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=tt({type:e}),e.\u0275inj=et({imports:[Qs]});let t=e;return t})(),ff=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:Ks,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:Ze,useValue:i.callSetDisabledState??Bt}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=tt({type:e}),e.\u0275inj=et({imports:[Qs]});let t=e;return t})();export{Hl as a,jl as b,v as c,Bl as d,C as e,L as f,P as g,m as h,ge as i,_e as j,Sn as k,ve as l,ct as m,w as n,Ve as o,_r as p,On as q,lt as r,ht as s,Q as t,ee as u,Le as v,Od as w,Rd as x,se as y,pi as z,Rh as A,kh as B,vs as C,rl as D,Ps as E,ys as F,af as G,cf as H,Pl as I,Nl as J,lf as K,Vl as L,Js as M,Ys as N,Wl as O,df as P,hf as Q,ff as R};
