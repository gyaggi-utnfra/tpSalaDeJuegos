import{a as Br,b as No,c as ko,d as V,e as Wr,f as In,g as wn,j as Mo,k as En,l as Tn}from"./chunk-Y2DCO2O5.js";import{$ as b,$a as _o,A as Pr,Aa as jr,B as no,Ba as go,C as Dr,Ca as Tt,E as _e,Ea as Y,F as Ye,G as Le,H as Nr,I as Xe,Ia as mo,J as ro,Ja as $r,K as Ze,Ka as vo,L as be,M as kr,N as io,O as so,Oa as yo,P as oo,Pa as Io,Q as q,Qa as wo,R as ao,S as D,Sa as Eo,T as P,W as _,Xa as To,Y as co,Z as C,_ as Mr,a as p,aa as g,b as k,ba as se,bb as bo,ca as Et,cb as Ro,d as Me,da as uo,db as So,e as l,f as Ys,fa as dn,g as Xs,ga as oe,h as we,ha as lo,i as br,ia as Qe,j as Rr,ja as J,k as Ee,ka as hn,l as W,lb as Ao,m as Zs,n as Qs,na as Lr,nb as pn,o as Te,oa as ho,ob as Co,p as Sr,pa as et,pb as gn,q as Ar,qa as fn,qb as Oo,r as Cr,ra as tt,rb as Vr,s as F,sa as j,sb as mn,t as v,ta as Ur,tb as zr,u as wt,ua as xr,ub as vn,v as eo,va as fo,vb as Po,w as to,wa as Fr,wb as Do,x as R,xa as po,xb as yn,y as Or,ya as ae,z as H}from"./chunk-O3EMWPD3.js";var bt=class{},bn=class{},ce=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var qr=class{encodeKey(e){return Lo(e)}encodeValue(e){return Lo(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function fu(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=n.get(o)||[];c.push(a),n.set(o,c)}),n}var pu=/%(\d[a-f0-9])/gi,gu={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Lo(t){return encodeURIComponent(t).replace(pu,(e,n)=>gu[n]??e)}function _n(t){return`${t}`}var Se=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new qr,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=fu(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(_n):[_n(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(_n(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(_n(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Gr=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function mu(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Uo(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function xo(t){return typeof Blob<"u"&&t instanceof Blob}function Fo(t){return typeof FormData<"u"&&t instanceof FormData}function vu(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var _t=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(mu(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new ce,this.context??=new Gr,!this.params)this.params=new Se,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Uo(this.body)||xo(this.body)||Fo(this.body)||vu(this.body)?this.body:this.body instanceof Se?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Fo(this.body)?null:xo(this.body)?this.body.type||null:Uo(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Se?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,u=e.headers||this.headers,d=e.params||this.params,h=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((f,m)=>f.set(m,e.setHeaders[m]),u)),e.setParams&&(d=Object.keys(e.setParams).reduce((f,m)=>f.set(m,e.setParams[m]),d)),new t(n,r,o,{params:d,headers:u,context:h,reportProgress:c,responseType:i,withCredentials:a,transferCache:s})}},Ae=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Ae||{}),Rt=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new ce,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Rn=class t extends Rt{constructor(e={}){super(e),this.type=Ae.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},St=class t extends Rt{constructor(e={}){super(e),this.type=Ae.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Re=class extends Rt{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Wo=200,yu=204;function Hr(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Iu=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof _t)o=r;else{let u;s.headers instanceof ce?u=s.headers:u=new ce(s.headers);let d;s.params&&(s.params instanceof Se?d=s.params:d=new Se({fromObject:s.params})),o=new _t(r,i,s.body!==void 0?s.body:null,{headers:u,context:s.context,params:d,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=v(o).pipe(Le(u=>this.handler.handle(u)));if(r instanceof _t||s.observe==="events")return a;let c=a.pipe(_e(u=>u instanceof St));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(R(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return c.pipe(R(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return c.pipe(R(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return c.pipe(R(u=>u.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new Se().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,Hr(s,i))}post(r,i,s={}){return this.request("POST",r,Hr(s,i))}put(r,i,s={}){return this.request("PUT",r,Hr(s,i))}};e.\u0275fac=function(i){return new(i||e)(b(bt))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),wu=/^\)\]\}',?\n/,Eu="X-Request-URL";function jo(t){if(t.url)return t.url;let e=Eu.toLocaleLowerCase();return t.headers.get(e)}var Tu=(()=>{let e=class e{constructor(){this.fetchImpl=g(Kr,{optional:!0})?.fetch??((...r)=>globalThis.fetch(...r)),this.ngZone=g(j)}handle(r){return new we(i=>{let s=new AbortController;return this.doRequest(r,s.signal,i).then(Jr,o=>i.error(new Re({error:o}))),()=>s.abort()})}doRequest(r,i,s){return l(this,null,function*(){let o=this.createRequestInit(r),a;try{let E=this.ngZone.runOutsideAngular(()=>this.fetchImpl(r.urlWithParams,p({signal:i},o)));_u(E),s.next({type:Ae.Sent}),a=yield E}catch(E){s.error(new Re({error:E,status:E.status??0,statusText:E.statusText,url:r.urlWithParams,headers:E.headers}));return}let c=new ce(a.headers),u=a.statusText,d=jo(a)??r.urlWithParams,h=a.status,f=null;if(r.reportProgress&&s.next(new Rn({headers:c,status:h,statusText:u,url:d})),a.body){let E=a.headers.get("content-length"),N=[],w=a.body.getReader(),T=0,U,x,O=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>l(this,null,function*(){for(;;){let{done:K,value:Ie}=yield w.read();if(K)break;if(N.push(Ie),T+=Ie.length,r.reportProgress){x=r.responseType==="text"?(x??"")+(U??=new TextDecoder).decode(Ie,{stream:!0}):void 0;let ln=()=>s.next({type:Ae.DownloadProgress,total:E?+E:void 0,loaded:T,partialText:x});O?O.run(ln):ln()}}}));let ye=this.concatChunks(N,T);try{let K=a.headers.get("Content-Type")??"";f=this.parseBody(r,ye,K)}catch(K){s.error(new Re({error:K,headers:new ce(a.headers),status:a.status,statusText:a.statusText,url:jo(a)??r.urlWithParams}));return}}h===0&&(h=f?Wo:0),h>=200&&h<300?(s.next(new St({body:f,headers:c,status:h,statusText:u,url:d})),s.complete()):s.error(new Re({error:f,headers:c,status:h,statusText:u,url:d}))})}parseBody(r,i,s){switch(r.responseType){case"json":let o=new TextDecoder().decode(i).replace(wu,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:s});case"arraybuffer":return i.buffer}}createRequestInit(r){let i={},s=r.withCredentials?"include":void 0;if(r.headers.forEach((o,a)=>i[o]=a.join(",")),r.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!r.headers.has("Content-Type")){let o=r.detectContentTypeHeader();o!==null&&(i["Content-Type"]=o)}return{body:r.serializeBody(),method:r.method,headers:i,credentials:s}}concatChunks(r,i){let s=new Uint8Array(i),o=0;for(let a of r)s.set(a,o),o+=a.length;return s}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),Kr=class{};function Jr(){}function _u(t){t.then(Jr,Jr)}function bu(t,e){return e(t)}function Ru(t,e,n){return(r,i)=>J(n,()=>e(r,s=>t(s,i)))}var Ho=new C(""),Su=new C(""),Au=new C("",{providedIn:"root",factory:()=>!0});var $o=(()=>{let e=class e extends bt{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=g(fn),this.contributeToStability=g(Au)}handle(r){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(Ho),...this.injector.get(Su,[])]));this.chain=i.reduceRight((s,o)=>Ru(s,o,this.injector),bu)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(Ze(()=>this.pendingTasks.remove(i)))}else return this.chain(r,i=>this.backend.handle(i))}};e.\u0275fac=function(i){return new(i||e)(b(bn),b(Qe))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})();var Cu=/^\)\]\}',?\n/;function Ou(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var Vo=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new P(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?F(i.\u0275loadImpl()):v(null)).pipe(q(()=>new we(o=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((w,T)=>a.setRequestHeader(w,T.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let w=r.detectContentTypeHeader();w!==null&&a.setRequestHeader("Content-Type",w)}if(r.responseType){let w=r.responseType.toLowerCase();a.responseType=w!=="json"?w:"text"}let c=r.serializeBody(),u=null,d=()=>{if(u!==null)return u;let w=a.statusText||"OK",T=new ce(a.getAllResponseHeaders()),U=Ou(a)||r.url;return u=new Rn({headers:T,status:a.status,statusText:w,url:U}),u},h=()=>{let{headers:w,status:T,statusText:U,url:x}=d(),O=null;T!==yu&&(O=typeof a.response>"u"?a.responseText:a.response),T===0&&(T=O?Wo:0);let ye=T>=200&&T<300;if(r.responseType==="json"&&typeof O=="string"){let K=O;O=O.replace(Cu,"");try{O=O!==""?JSON.parse(O):null}catch(Ie){O=K,ye&&(ye=!1,O={error:Ie,text:O})}}ye?(o.next(new St({body:O,headers:w,status:T,statusText:U,url:x||void 0})),o.complete()):o.error(new Re({error:O,headers:w,status:T,statusText:U,url:x||void 0}))},f=w=>{let{url:T}=d(),U=new Re({error:w,status:a.status||0,statusText:a.statusText||"Unknown Error",url:T||void 0});o.error(U)},m=!1,E=w=>{m||(o.next(d()),m=!0);let T={type:Ae.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(T.total=w.total),r.responseType==="text"&&a.responseText&&(T.partialText=a.responseText),o.next(T)},N=w=>{let T={type:Ae.UploadProgress,loaded:w.loaded};w.lengthComputable&&(T.total=w.total),o.next(T)};return a.addEventListener("load",h),a.addEventListener("error",f),a.addEventListener("timeout",f),a.addEventListener("abort",f),r.reportProgress&&(a.addEventListener("progress",E),c!==null&&a.upload&&a.upload.addEventListener("progress",N)),a.send(c),o.next({type:Ae.Sent}),()=>{a.removeEventListener("error",f),a.removeEventListener("abort",f),a.removeEventListener("load",h),a.removeEventListener("timeout",f),r.reportProgress&&(a.removeEventListener("progress",E),c!==null&&a.upload&&a.upload.removeEventListener("progress",N)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(b(Tn))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),qo=new C(""),Pu="XSRF-TOKEN",Du=new C("",{providedIn:"root",factory:()=>Pu}),Nu="X-XSRF-TOKEN",ku=new C("",{providedIn:"root",factory:()=>Nu}),Sn=class{},Mu=(()=>{let e=class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=wn(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(b(V),b(ae),b(Du))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})();function Lu(t,e){let n=t.url.toLowerCase();if(!g(qo)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=g(Sn).getToken(),i=g(ku);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function dm(...t){let e=[Iu,Vo,$o,{provide:bt,useExisting:$o},{provide:bn,useFactory:()=>g(Tu,{optional:!0})??g(Vo)},{provide:Ho,useValue:Lu,multi:!0},{provide:qo,useValue:!0},{provide:Sn,useClass:Mu}];for(let n of t)e.push(...n.\u0275providers);return oe(e)}var Zr=class extends ko{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Qr=class t extends Zr{static makeCurrent(){No(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=xu();return n==null?null:Fu(n)}resetBaseElement(){At=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return wn(document.cookie,e)}},At=null;function xu(){return At=At||document.querySelector("base"),At?At.getAttribute("href"):null}function Fu(t){return new URL(t,document.baseURI).pathname}var ju=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),Cn=new C(""),Yo=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new P(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(b(Cn),b(j))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),Ct=class{constructor(e){this._doc=e}},Yr="ng-app-id",Xo=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=En(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Yr}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Yr),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Yr,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(b(V),b(Fr),b(jr,8),b(ae))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),Xr={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ti=/%COMP%/g,Zo="%COMP%",$u=`_nghost-${Zo}`,Vu=`_ngcontent-${Zo}`,zu=!0,Bu=new C("",{providedIn:"root",factory:()=>zu});function Wu(t){return Vu.replace(ti,t)}function Hu(t){return $u.replace(ti,t)}function Qo(t,e){return e.map(n=>n.replace(ti,t))}var Go=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,d=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=En(c),this.defaultRenderer=new Ot(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Et.ShadowDom&&(i=k(p({},i),{encapsulation:Et.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof On?s.applyToHost(r):s instanceof Pt&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case Et.Emulated:o=new On(u,d,i,this.appId,h,a,c,f);break;case Et.ShadowDom:return new ei(u,d,r,i,a,c,this.nonce,f);default:o=new Pt(u,d,i,h,a,c,f);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(b(Yo),b(Xo),b(Fr),b(Bu),b(V),b(ae),b(j),b(jr))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),Ot=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Xr[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Ko(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Ko(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new P(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Xr[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Xr[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Tt.DashCase|Tt.Important)?e.style.setProperty(n,r,i&Tt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Tt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Br().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Ko(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var ei=class extends Ot{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=Qo(i.id,i.styles);for(let d of u){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=d,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Pt=class extends Ot{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?Qo(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},On=class extends Pt{constructor(e,n,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=Wu(u),this.hostAttr=Hu(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},qu=(()=>{let e=class e extends Ct{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(b(V))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),Gu=(()=>{let e=class e extends Ct{constructor(r){super(r),this.delegate=g(Do,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,s){return this.delegate.addEventListener(r,i,s)}removeEventListener(r,i,s){return this.delegate.removeEventListener(r,i,s)}};e.\u0275fac=function(i){return new(i||e)(b(V))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),Jo=["alt","control","meta","shift"],Ku={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ju={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Yu=(()=>{let e=class e extends Ct{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Br().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),Jo.forEach(d=>{let h=i.indexOf(d);h>-1&&(i.splice(h,1),a+=d+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=Ku[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),Jo.forEach(a=>{if(a!==s){let c=Ju[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(b(V))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})();function Wm(t,e){return Po(p({rootComponent:t},Xu(e)))}function Xu(t){return{appProviders:[...nl,...t?.providers??[]],platformProviders:tl}}function Zu(){Qr.makeCurrent()}function Qu(){return new Ur}function el(){return fo(document),document}var tl=[{provide:ae,useValue:Mo},{provide:po,useValue:Zu,multi:!0},{provide:V,useFactory:el,deps:[]}];var nl=[{provide:lo,useValue:"root"},{provide:Ur,useFactory:Qu,deps:[]},{provide:Cn,useClass:qu,multi:!0,deps:[V,j,ae]},{provide:Cn,useClass:Yu,multi:!0,deps:[V]},{provide:Cn,useClass:Gu,multi:!0},Go,Xo,Yo,{provide:mo,useExisting:Go},{provide:Tn,useClass:ju,deps:[]},[]];var ea=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(b(V))},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var I="primary",qt=Symbol("RouteTitle"),oi=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function at(t){return new oi(t)}function il(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function sl(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ee(t[n],e[n]))return!1;return!0}function ee(t,e){let n=t?ai(t):void 0,r=e?ai(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!ua(t[i],e[i]))return!1;return!0}function ai(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function ua(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function la(t){return t.length>0?t[t.length-1]:null}function Ce(t){return eo(t)?t:Oo(t)?F(Promise.resolve(t)):v(t)}var ol={exact:ha,subset:fa},da={exact:al,subset:cl,ignored:()=>!0};function ta(t,e,n){return ol[n.paths](t.root,e.root,n.matrixParams)&&da[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function al(t,e){return ee(t,e)}function ha(t,e,n){if(!xe(t.segments,e.segments)||!Nn(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!ha(t.children[r],e.children[r],n))return!1;return!0}function cl(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>ua(t[n],e[n]))}function fa(t,e,n){return pa(t,e,e.segments,n)}function pa(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!xe(i,n)||e.hasChildren()||!Nn(i,n,r))}else if(t.segments.length===n.length){if(!xe(t.segments,n)||!Nn(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!fa(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!xe(t.segments,i)||!Nn(t.segments,i,r)||!t.children[I]?!1:pa(t.children[I],e,s,r)}}function Nn(t,e,n){return e.every((r,i)=>da[n](t[i].parameters,r.parameters))}var le=class{constructor(e=new S([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=at(this.queryParams),this._queryParamMap}toString(){return dl.serialize(this)}},S=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return kn(this)}},Ue=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=at(this.parameters),this._parameterMap}toString(){return ma(this)}};function ul(t,e){return xe(t,e)&&t.every((n,r)=>ee(n.parameters,e[r].parameters))}function xe(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function ll(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===I&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==I&&(n=n.concat(e(i,r)))}),n}var ki=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>new xt,providedIn:"root"});let t=e;return t})(),xt=class{parse(e){let n=new ui(e);return new le(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Dt(e.root,!0)}`,r=pl(e.queryParams),i=typeof e.fragment=="string"?`#${hl(e.fragment)}`:"";return`${n}${r}${i}`}},dl=new xt;function kn(t){return t.segments.map(e=>ma(e)).join("/")}function Dt(t,e){if(!t.hasChildren())return kn(t);if(e){let n=t.children[I]?Dt(t.children[I],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==I&&r.push(`${i}:${Dt(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=ll(t,(r,i)=>i===I?[Dt(t.children[I],!1)]:[`${i}:${Dt(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[I]!=null?`${kn(t)}/${n[0]}`:`${kn(t)}/(${n.join("//")})`}}function ga(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pn(t){return ga(t).replace(/%3B/gi,";")}function hl(t){return encodeURI(t)}function ci(t){return ga(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Mn(t){return decodeURIComponent(t)}function na(t){return Mn(t.replace(/\+/g,"%20"))}function ma(t){return`${ci(t.path)}${fl(t.parameters)}`}function fl(t){return Object.entries(t).map(([e,n])=>`;${ci(e)}=${ci(n)}`).join("")}function pl(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Pn(n)}=${Pn(i)}`).join("&"):`${Pn(n)}=${Pn(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var gl=/^[^\/()?;#]+/;function ni(t){let e=t.match(gl);return e?e[0]:""}var ml=/^[^\/()?;=#]+/;function vl(t){let e=t.match(ml);return e?e[0]:""}var yl=/^[^=?&#]+/;function Il(t){let e=t.match(yl);return e?e[0]:""}var wl=/^[^&#]+/;function El(t){let e=t.match(wl);return e?e[0]:""}var ui=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new S([],{}):new S([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[I]=new S(e,n)),r}parseSegment(){let e=ni(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new P(4009,!1);return this.capture(e),new Ue(Mn(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=vl(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=ni(this.remaining);i&&(r=i,this.capture(r))}e[Mn(n)]=Mn(r)}parseQueryParam(e){let n=Il(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=El(this.remaining);o&&(r=o,this.capture(r))}let i=na(n),s=na(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=ni(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new P(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=I);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[I]:new S([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new P(4011,!1)}};function va(t){return t.segments.length>0?new S([],{[I]:t}):t}function ya(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=ya(i);if(r===I&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new S(t.segments,e);return Tl(n)}function Tl(t){if(t.numberOfChildren===1&&t.children[I]){let e=t.children[I];return new S(t.segments.concat(e.segments),e.children)}return t}function Fe(t){return t instanceof le}function _l(t,e,n=null,r=null){let i=Ia(t);return wa(i,e,n,r)}function Ia(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new S(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=va(r);return e??i}function wa(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return ri(i,i,i,n,r);let s=bl(e);if(s.toRoot())return ri(i,i,new S([],{}),n,r);let o=Rl(s,i,t),a=o.processChildren?Mt(o.segmentGroup,o.index,s.commands):Ta(o.segmentGroup,o.index,s.commands);return ri(i,o.segmentGroup,a,n,r)}function Ln(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ft(t){return typeof t=="object"&&t!=null&&t.outlets}function ri(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let o;t===e?o=n:o=Ea(t,e,n);let a=va(ya(o));return new le(a,s,i)}function Ea(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=Ea(s,e,n)}),new S(t.segments,r)}var Un=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Ln(r[0]))throw new P(4003,!1);let i=r.find(Ft);if(i&&i!==la(r))throw new P(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function bl(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Un(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Un(n,e,r)}var it=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function Rl(t,e,n){if(t.isAbsolute)return new it(e,!0,0);if(!n)return new it(e,!1,NaN);if(n.parent===null)return new it(n,!0,0);let r=Ln(t.commands[0])?0:1,i=n.segments.length-1+r;return Sl(n,i,t.numberOfDoubleDots)}function Sl(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new P(4005,!1);i=r.segments.length}return new it(r,!1,i-s)}function Al(t){return Ft(t[0])?t[0].outlets:{[I]:t}}function Ta(t,e,n){if(t??=new S([],{}),t.segments.length===0&&t.hasChildren())return Mt(t,e,n);let r=Cl(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new S(t.segments.slice(0,r.pathIndex),{});return s.children[I]=new S(t.segments.slice(r.pathIndex),t.children),Mt(s,0,i)}else return r.match&&i.length===0?new S(t.segments,{}):r.match&&!t.hasChildren()?li(t,e,n):r.match?Mt(t,0,i):li(t,e,n)}function Mt(t,e,n){if(n.length===0)return new S(t.segments,{});{let r=Al(n),i={};if(Object.keys(r).some(s=>s!==I)&&t.children[I]&&t.numberOfChildren===1&&t.children[I].segments.length===0){let s=Mt(t.children[I],e,n);return new S(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=Ta(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new S(t.segments,i)}}function Cl(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Ft(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!ia(c,u,o))return s;r+=2}else{if(!ia(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function li(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Ft(s)){let c=Ol(s.outlets);return new S(r,c)}if(i===0&&Ln(n[0])){let c=t.segments[e];r.push(new Ue(c.path,ra(n[0]))),i++;continue}let o=Ft(s)?s.outlets[I]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Ln(a)?(r.push(new Ue(o,ra(a))),i+=2):(r.push(new Ue(o,{})),i++)}return new S(r,{})}function Ol(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=li(new S([],{}),0,r))}),e}function ra(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function ia(t,e,n){return t==n.path&&ee(e,n.parameters)}var Lt="imperative",M=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(M||{}),G=class{constructor(e,n){this.id=e,this.url=n}},jt=class extends G{constructor(e,n,r="imperative",i=null){super(e,n),this.type=M.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},de=class extends G{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=M.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},B=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(B||{}),di=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(di||{}),ue=class extends G{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=M.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},je=class extends G{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=M.NavigationSkipped}},$t=class extends G{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=M.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},xn=class extends G{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=M.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hi=class extends G{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=M.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fi=class extends G{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=M.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},pi=class extends G{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=M.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gi=class extends G{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=M.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mi=class{constructor(e){this.route=e,this.type=M.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},vi=class{constructor(e){this.route=e,this.type=M.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},yi=class{constructor(e){this.snapshot=e,this.type=M.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ii=class{constructor(e){this.snapshot=e,this.type=M.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wi=class{constructor(e){this.snapshot=e,this.type=M.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ei=class{constructor(e){this.snapshot=e,this.type=M.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Vt=class{},ct=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function Pl(t,e){return t.providers&&!t._injector&&(t._injector=wo(t.providers,e,`Route: ${t.path}`)),t._injector??e}function X(t){return t.outlet||I}function Dl(t,e){let n=t.filter(r=>X(r)===e);return n.push(...t.filter(r=>X(r)!==e)),n}function Gt(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Ti=class{get injector(){return Gt(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Wn(this.rootInjector),this.attachRef=null}},Wn=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Ti(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(b(Qe))},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Fn=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=_i(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=_i(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=bi(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return bi(e,this._root).map(n=>n.value)}};function _i(t,e){if(t===e.value)return e;for(let n of e.children){let r=_i(t,n);if(r)return r}return null}function bi(t,e){if(t===e.value)return[e];for(let n of e.children){let r=bi(t,n);if(r.length)return r.unshift(e),r}return[]}var z=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function rt(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var jn=class extends Fn{constructor(e,n){super(e),this.snapshot=n,Mi(this,e)}toString(){return this.snapshot.toString()}};function _a(t){let e=Nl(t),n=new W([new Ue("",{})]),r=new W({}),i=new W({}),s=new W({}),o=new W(""),a=new $e(n,r,s,o,i,I,t,e.root);return a.snapshot=e.root,new jn(new z(a,[]),e)}function Nl(t){let e={},n={},r={},i="",s=new st([],e,r,i,n,I,t,null,{});return new Vn("",new z(s,[]))}var $e=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(R(u=>u[qt]))??v(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(R(e=>at(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(R(e=>at(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function $n(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:p(p({},e.params),t.params),data:p(p({},e.data),t.data),resolve:p(p(p(p({},t.data),e.data),i?.data),t._resolvedData)}:r={params:p({},t.params),data:p({},t.data),resolve:p(p({},t.data),t._resolvedData??{})},i&&Ra(i)&&(r.resolve[qt]=i.title),r}var st=class{get title(){return this.data?.[qt]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=at(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=at(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Vn=class extends Fn{constructor(e,n){super(n),this.url=e,Mi(this,n)}toString(){return ba(this._root)}};function Mi(t,e){e.value._routerState=t,e.children.forEach(n=>Mi(t,n))}function ba(t){let e=t.children.length>0?` { ${t.children.map(ba).join(", ")} } `:"";return`${t.value}${e}`}function ii(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ee(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ee(e.params,n.params)||t.paramsSubject.next(n.params),sl(e.url,n.url)||t.urlSubject.next(n.url),ee(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Ri(t,e){let n=ee(t.params,e.params)&&ul(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Ri(t.parent,e.parent))}function Ra(t){return typeof t.title=="string"||t.title===null}var kl=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=I,this.activateEvents=new tt,this.deactivateEvents=new tt,this.attachEvents=new tt,this.detachEvents=new tt,this.parentContexts=g(Wn),this.location=g(vo),this.changeDetector=g(vn),this.inputBinder=g(Li,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new P(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new P(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new P(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new P(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Si(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=dn({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[hn]});let t=e;return t})(),Si=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===$e?this.route:e===Wn?this.childContexts:this.parent.get(e,n)}},Li=new C("");function Ml(t,e,n){let r=zt(t,e._root,n?n._root:void 0);return new jn(r,e)}function zt(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=Ll(t,e,n);return new z(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>zt(t,a)),o}}let r=Ul(e.value),i=e.children.map(s=>zt(t,s));return new z(r,i)}}function Ll(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return zt(t,r,i);return zt(t,r)})}function Ul(t){return new $e(new W(t.url),new W(t.params),new W(t.queryParams),new W(t.fragment),new W(t.data),t.outlet,t.component,t)}var Bt=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},Sa="ngNavigationCancelingError";function zn(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Fe(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Aa(!1,B.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Aa(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Sa]=!0,n.cancellationCode=e,n}function xl(t){return Ca(t)&&Fe(t.url)}function Ca(t){return!!t&&t[Sa]}var Fl=(t,e,n,r)=>R(i=>(new Ai(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Ai=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),ii(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=rt(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=rt(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=rt(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=rt(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Ei(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Ii(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(ii(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),ii(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Bn=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ot=class{constructor(e,n){this.component=e,this.route=n}};function jl(t,e,n){let r=t._root,i=e?e._root:null;return Nt(r,i,n,[r.value])}function $l(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function lt(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!co(t)?t:e.get(t):r}function Nt(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=rt(e);return t.children.forEach(o=>{Vl(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Ut(a,n.getContext(o),i)),i}function Vl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=zl(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Bn(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Nt(t,e,a?a.children:null,r,i):Nt(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ot(a.outlet.component,o))}else o&&Ut(e,a,i),i.canActivateChecks.push(new Bn(r)),s.component?Nt(t,null,a?a.children:null,r,i):Nt(t,null,n,r,i);return i}function zl(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!xe(t.url,e.url);case"pathParamsOrQueryParamsChange":return!xe(t.url,e.url)||!ee(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ri(t,e)||!ee(t.queryParams,e.queryParams);case"paramsChange":default:return!Ri(t,e)}}function Ut(t,e,n){let r=rt(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Ut(o,e.children.getContext(s),n):Ut(o,null,n):Ut(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ot(e.outlet.component,i)):n.canDeactivateChecks.push(new ot(null,i)):n.canDeactivateChecks.push(new ot(null,i))}function Kt(t){return typeof t=="function"}function Bl(t){return typeof t=="boolean"}function Wl(t){return t&&Kt(t.canLoad)}function Hl(t){return t&&Kt(t.canActivate)}function ql(t){return t&&Kt(t.canActivateChild)}function Gl(t){return t&&Kt(t.canDeactivate)}function Kl(t){return t&&Kt(t.canMatch)}function Oa(t){return t instanceof to||t?.name==="EmptyError"}var Dn=Symbol("INITIAL_VALUE");function ut(){return q(t=>Or(t.map(e=>e.pipe(Xe(1),oo(Dn)))).pipe(R(e=>{for(let n of e)if(n!==!0){if(n===Dn)return Dn;if(n===!1||Jl(n))return n}return!0}),_e(e=>e!==Dn),Xe(1)))}function Jl(t){return Fe(t)||t instanceof Bt}function Yl(t,e){return H(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?v(k(p({},n),{guardsResult:!0})):Xl(o,r,i,t).pipe(H(a=>a&&Bl(a)?Zl(r,s,t,e):v(a)),R(a=>k(p({},n),{guardsResult:a})))})}function Xl(t,e,n,r){return F(t).pipe(H(i=>rd(i.component,i.route,n,e,r)),be(i=>i!==!0,!0))}function Zl(t,e,n,r){return F(e).pipe(Le(i=>no(ed(i.route.parent,r),Ql(i.route,r),nd(t,i.path,n),td(t,i.route,n))),be(i=>i!==!0,!0))}function Ql(t,e){return t!==null&&e&&e(new wi(t)),v(!0)}function ed(t,e){return t!==null&&e&&e(new yi(t)),v(!0)}function td(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return v(!0);let i=r.map(s=>Dr(()=>{let o=Gt(e)??n,a=lt(s,o),c=Hl(a)?a.canActivate(e,t):J(o,()=>a(e,t));return Ce(c).pipe(be())}));return v(i).pipe(ut())}function nd(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>$l(o)).filter(o=>o!==null).map(o=>Dr(()=>{let a=o.guards.map(c=>{let u=Gt(o.node)??n,d=lt(c,u),h=ql(d)?d.canActivateChild(r,t):J(u,()=>d(r,t));return Ce(h).pipe(be())});return v(a).pipe(ut())}));return v(s).pipe(ut())}function rd(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return v(!0);let o=s.map(a=>{let c=Gt(e)??i,u=lt(a,c),d=Gl(u)?u.canDeactivate(t,e,n,r):J(c,()=>u(t,e,n,r));return Ce(d).pipe(be())});return v(o).pipe(ut())}function id(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return v(!0);let s=i.map(o=>{let a=lt(o,t),c=Wl(a)?a.canLoad(e,n):J(t,()=>a(e,n));return Ce(c)});return v(s).pipe(ut(),Pa(r))}function Pa(t){return Xs(D(e=>{if(typeof e!="boolean")throw zn(t,e)}),R(e=>e===!0))}function sd(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return v(!0);let s=i.map(o=>{let a=lt(o,t),c=Kl(a)?a.canMatch(e,n):J(t,()=>a(e,n));return Ce(c)});return v(s).pipe(ut(),Pa(r))}var Wt=class{constructor(e){this.segmentGroup=e||null}},Ht=class extends Error{constructor(e){super(),this.urlTree=e}};function nt(t){return wt(new Wt(t))}function od(t){return wt(new P(4e3,!1))}function ad(t){return wt(Aa(!1,B.GuardRejected))}var Ci=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return v(r);if(i.numberOfChildren>1||!i.children[I])return od(`${e.redirectTo}`);i=i.children[I]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:c,fragment:u,routeConfig:d,url:h,outlet:f,params:m,data:E,title:N}=i,w=J(s,()=>a({params:m,data:E,queryParams:c,fragment:u,routeConfig:d,url:h,outlet:f,title:N}));if(w instanceof le)throw new Ht(w);n=w}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Ht(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new le(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new S(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new P(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Oi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function cd(t,e,n,r,i){let s=Da(t,e,n);return s.matched?(r=Pl(e,r),sd(r,e,n,i).pipe(R(o=>o===!0?s:p({},Oi)))):v(s)}function Da(t,e,n){if(e.path==="**")return ud(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?p({},Oi):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||il)(n,t,e);if(!i)return p({},Oi);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?p(p({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function ud(t){return{matched:!0,parameters:t.length>0?la(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function sa(t,e,n,r){return n.length>0&&hd(t,n,r)?{segmentGroup:new S(e,dd(r,new S(n,t.children))),slicedSegments:[]}:n.length===0&&fd(t,n,r)?{segmentGroup:new S(t.segments,ld(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new S(t.segments,t.children),slicedSegments:n}}function ld(t,e,n,r){let i={};for(let s of n)if(Hn(t,e,s)&&!r[X(s)]){let o=new S([],{});i[X(s)]=o}return p(p({},r),i)}function dd(t,e){let n={};n[I]=e;for(let r of t)if(r.path===""&&X(r)!==I){let i=new S([],{});n[X(r)]=i}return n}function hd(t,e,n){return n.some(r=>Hn(t,e,r)&&X(r)!==I)}function fd(t,e,n){return n.some(r=>Hn(t,e,r))}function Hn(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function pd(t,e,n){return e.length===0&&!t.children[n]}var Pi=class{};function gd(t,e,n,r,i,s,o="emptyOnly"){return new Di(t,e,n,r,i,o,s).recognize()}var md=31,Di=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Ci(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new P(4002,`'${e.segmentGroup}'`)}recognize(){let e=sa(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(R(({children:n,rootSnapshot:r})=>{let i=new z(r,n),s=new Vn("",i),o=_l(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new st([],Object.freeze({}),Object.freeze(p({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),I,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,I,n).pipe(R(r=>({children:r,rootSnapshot:n})),Ye(r=>{if(r instanceof Ht)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Wt?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(R(o=>o instanceof z?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return F(s).pipe(Le(o=>{let a=r.children[o],c=Dl(n,o);return this.processSegmentGroup(e,c,a,o,i)}),so((o,a)=>(o.push(...a),o)),Nr(null),io(),H(o=>{if(o===null)return nt(r);let a=Na(o);return vd(a),v(a)}))}processSegment(e,n,r,i,s,o,a){return F(n).pipe(Le(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,s,o,a).pipe(Ye(u=>{if(u instanceof Wt)return v(null);throw u}))),be(c=>!!c),Ye(c=>{if(Oa(c))return pd(r,i,s)?v(new Pi):nt(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,c){return X(r)!==o&&(o===I||!Hn(i,s,r))?nt(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,c):nt(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:c,parameters:u,consumedSegments:d,positionalParamSegments:h,remainingSegments:f}=Da(n,i,s);if(!c)return nt(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>md&&(this.allowRedirects=!1));let m=new st(s,u,Object.freeze(p({},this.urlTree.queryParams)),this.urlTree.fragment,oa(i),X(i),i.component??i._loadedComponent??null,i,aa(i)),E=$n(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(E.params),m.data=Object.freeze(E.data);let N=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,h,m,e);return this.applyRedirects.lineralizeSegments(i,N).pipe(H(w=>this.processSegment(e,r,n,w.concat(f),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=cd(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(q(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(q(({routes:u})=>{let d=r._loadedInjector??e,{parameters:h,consumedSegments:f,remainingSegments:m}=c,E=new st(f,h,Object.freeze(p({},this.urlTree.queryParams)),this.urlTree.fragment,oa(r),X(r),r.component??r._loadedComponent??null,r,aa(r)),N=$n(E,o,this.paramsInheritanceStrategy);E.params=Object.freeze(N.params),E.data=Object.freeze(N.data);let{segmentGroup:w,slicedSegments:T}=sa(n,f,m,u);if(T.length===0&&w.hasChildren())return this.processChildren(d,u,w,E).pipe(R(x=>new z(E,x)));if(u.length===0&&T.length===0)return v(new z(E,[]));let U=X(r)===s;return this.processSegment(d,u,w,T,U?I:s,!0,E).pipe(R(x=>new z(E,x instanceof z?[x]:[])))}))):nt(n)))}getChildConfig(e,n,r){return n.children?v({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?v({routes:n._loadedRoutes,injector:n._loadedInjector}):id(e,n,r,this.urlSerializer).pipe(H(i=>i?this.configLoader.loadChildren(e,n).pipe(D(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):ad(n))):v({routes:[],injector:e})}};function vd(t){t.sort((e,n)=>e.value.outlet===I?-1:n.value.outlet===I?1:e.value.outlet.localeCompare(n.value.outlet))}function yd(t){let e=t.value.routeConfig;return e&&e.path===""}function Na(t){let e=[],n=new Set;for(let r of t){if(!yd(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Na(r.children);e.push(new z(r.value,i))}return e.filter(r=>!n.has(r))}function oa(t){return t.data||{}}function aa(t){return t.resolve||{}}function Id(t,e,n,r,i,s){return H(o=>gd(t,e,n,r,o.extractedUrl,i,s).pipe(R(({state:a,tree:c})=>k(p({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function wd(t,e){return H(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return v(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of ka(c))o.add(u);let a=0;return F(o).pipe(Le(c=>s.has(c)?Ed(c,r,t,e):(c.data=$n(c,c.parent,t).resolve,v(void 0))),D(()=>a++),kr(1),H(c=>a===o.size?v(n):Te))})}function ka(t){let e=t.children.map(n=>ka(n)).flat();return[t,...e]}function Ed(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!Ra(i)&&(s[qt]=i.title),Td(s,t,e,r).pipe(R(o=>(t._resolvedData=o,t.data=$n(t,t.parent,n).resolve,null)))}function Td(t,e,n,r){let i=ai(t);if(i.length===0)return v({});let s={};return F(i).pipe(H(o=>_d(t[o],e,n,r).pipe(be(),D(a=>{if(a instanceof Bt)throw zn(new xt,a);s[o]=a}))),kr(1),ro(s),Ye(o=>Oa(o)?Te:wt(o)))}function _d(t,e,n,r){let i=Gt(e)??r,s=lt(t,i),o=s.resolve?s.resolve(e,n):J(i,()=>s(e,n));return Ce(o)}function si(t){return q(e=>{let n=t(e);return n?F(n).pipe(R(()=>e)):v(e)})}var Ma=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===I);return i}getResolvedTitleForRoute(r){return r.data[qt]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>g(bd),providedIn:"root"});let t=e;return t})(),bd=(()=>{let e=class e extends Ma{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(b(ea))},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ui=new C("",{providedIn:"root",factory:()=>({})}),Rd=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=uo({type:e,selectors:[["ng-component"]],standalone:!0,features:[Ao],decls:1,vars:0,template:function(i,s){i&1&&To(0,"router-outlet")},dependencies:[kl],encapsulation:2});let t=e;return t})();function xi(t){let e=t.children&&t.children.map(xi),n=e?k(p({},t),{children:e}):p({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==I&&(n.component=Rd),n}var Fi=new C(""),Sd=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=g(zr)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return v(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Ce(r.loadComponent()).pipe(R(La),D(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Ze(()=>{this.componentLoaders.delete(r)})),s=new Rr(i,()=>new Ee).pipe(br());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return v({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=Ad(i,this.compiler,r,this.onLoadEndListener).pipe(Ze(()=>{this.childrenLoaders.delete(i)})),a=new Rr(o,()=>new Ee).pipe(br());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ad(t,e,n,r){return Ce(t.loadChildren()).pipe(R(La),H(i=>i instanceof Io||Array.isArray(i)?v(i):F(e.compileModuleAsync(i))),R(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Fi,[],{optional:!0,self:!0}).flat()),{routes:o.map(xi),injector:s}}))}function Cd(t){return t&&typeof t=="object"&&"default"in t}function La(t){return Cd(t)?t.default:t}var ji=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>g(Od),providedIn:"root"});let t=e;return t})(),Od=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Pd=new C("");var Dd=new C(""),Nd=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ee,this.transitionAbortSubject=new Ee,this.configLoader=g(Sd),this.environmentInjector=g(Qe),this.urlSerializer=g(ki),this.rootContexts=g(Wn),this.location=g(In),this.inputBindingEnabled=g(Li,{optional:!0})!==null,this.titleStrategy=g(Ma),this.options=g(Ui,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=g(ji),this.createViewTransition=g(Pd,{optional:!0}),this.navigationErrorHandler=g(Dd,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>v(void 0),this.rootComponentType=null;let r=s=>this.events.next(new mi(s)),i=s=>this.events.next(new vi(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(k(p(p({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new W({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Lt,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(_e(o=>o.id!==0),R(o=>k(p({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),q(o=>{let a=!1,c=!1;return v(o).pipe(q(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",B.SupersededByNewNavigation),Te;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?k(p({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!d&&h!=="reload"){let f="";return this.events.next(new je(u.id,this.urlSerializer.serialize(u.rawUrl),f,di.IgnoredSameUrlNavigation)),u.resolve(!1),Te}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return v(u).pipe(q(f=>{let m=this.transitions?.getValue();return this.events.next(new jt(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),m!==this.transitions?.getValue()?Te:Promise.resolve(f)}),Id(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),D(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=k(p({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let m=new xn(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:f,extractedUrl:m,source:E,restoredState:N,extras:w}=u,T=new jt(f,this.urlSerializer.serialize(m),E,N);this.events.next(T);let U=_a(this.rootComponentType).snapshot;return this.currentTransition=o=k(p({},u),{targetSnapshot:U,urlAfterRedirects:m,extras:k(p({},w),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,v(o)}else{let f="";return this.events.next(new je(u.id,this.urlSerializer.serialize(u.extractedUrl),f,di.IgnoredByUrlHandlingStrategy)),u.resolve(!1),Te}}),D(u=>{let d=new hi(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),R(u=>(this.currentTransition=o=k(p({},u),{guards:jl(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),Yl(this.environmentInjector,u=>this.events.next(u)),D(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw zn(this.urlSerializer,u.guardsResult);let d=new fi(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(d)}),_e(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",B.GuardRejected),!1)),si(u=>{if(u.guards.canActivateChecks.length)return v(u).pipe(D(d=>{let h=new pi(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}),q(d=>{let h=!1;return v(d).pipe(wd(this.paramsInheritanceStrategy,this.environmentInjector),D({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(d,"",B.NoDataFromResolver)}}))}),D(d=>{let h=new gi(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}))}),si(u=>{let d=h=>{let f=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(h.routeConfig).pipe(D(m=>{h.component=m}),R(()=>{})));for(let m of h.children)f.push(...d(m));return f};return Or(d(u.targetSnapshot.root)).pipe(Nr(null),Xe(1))}),si(()=>this.afterPreactivation()),q(()=>{let{currentSnapshot:u,targetSnapshot:d}=o,h=this.createViewTransition?.(this.environmentInjector,u.root,d.root);return h?F(h).pipe(R(()=>o)):v(o)}),R(u=>{let d=Ml(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=k(p({},u),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),D(()=>{this.events.next(new Vt)}),Fl(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Xe(1),D({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new de(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),ao(this.transitionAbortSubject.pipe(D(u=>{throw u}))),Ze(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",B.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ye(u=>{if(c=!0,Ca(u))this.events.next(new ue(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),xl(u)?this.events.next(new ct(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let d=new $t(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let h=J(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(h instanceof Bt){let{message:f,cancellationCode:m}=zn(this.urlSerializer,h);this.events.next(new ue(o.id,this.urlSerializer.serialize(o.extractedUrl),f,m)),this.events.next(new ct(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(d);let f=r.errorHandler(u);o.resolve(!!f)}}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return Te}))}))}cancelNavigationTransition(r,i,s){let o=new ue(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function kd(t){return t!==Lt}var Md=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>g(Ld),providedIn:"root"});let t=e;return t})(),Ni=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Ld=(()=>{let e=class e extends Ni{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Lr(e)))(s||e)}})(),e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ua=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>g(Ud),providedIn:"root"});let t=e;return t})(),Ud=(()=>{let e=class e extends Ua{constructor(){super(...arguments),this.location=g(In),this.urlSerializer=g(ki),this.options=g(Ui,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=g(ji),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new le,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=_a(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof jt)this.stateMemento=this.createStateMemento();else if(r instanceof je)this.rawUrlTree=i.initialUrl;else if(r instanceof xn){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??s,i)}}else r instanceof Vt?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof ue&&(r.code===B.GuardRejected||r.code===B.NoDataFromResolver)?this.restoreHistory(i):r instanceof $t?this.restoreHistory(i,!0):r instanceof de&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=r instanceof le?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=p(p({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=p(p({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Lr(e)))(s||e)}})(),e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),kt=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(kt||{});function xd(t,e){t.events.pipe(_e(n=>n instanceof de||n instanceof ue||n instanceof $t||n instanceof je),R(n=>n instanceof de||n instanceof je?kt.COMPLETE:(n instanceof ue?n.code===B.Redirect||n.code===B.SupersededByNewNavigation:!1)?kt.REDIRECTING:kt.FAILED),_e(n=>n!==kt.REDIRECTING),Xe(1)).subscribe(()=>{e()})}function Fd(t){throw t}var jd={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},$d={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},qn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=g(gn),this.stateManager=g(Ua),this.options=g(Ui,{optional:!0})||{},this.pendingTasks=g(fn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=g(Nd),this.urlSerializer=g(ki),this.location=g(In),this.urlHandlingStrategy=g(ji),this._events=new Ee,this.errorHandler=this.options.errorHandler||Fd,this.navigated=!1,this.routeReuseStrategy=g(Md),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=g(Fi,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!g(Li,{optional:!0}),this.eventsSubscription=new Ys,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof ue&&i.code!==B.Redirect&&i.code!==B.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof de)this.navigated=!0;else if(i instanceof ct){let a=i.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),u=p({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||kd(s.source)},a);this.scheduleNavigation(c,Lt,null,u,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}zd(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Lt,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=p({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(xi),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,d=u?this.currentUrlTree.fragment:a,h=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":h=p(p({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let f;try{let m=s?s.snapshot:this.routerState.snapshot.root;f=Ia(m)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),f=this.currentUrlTree.root}return wa(f,r,h,d??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Fe(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Lt,null,i)}navigate(r,i={skipLocationChange:!1}){return Vd(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=p({},jd):i===!1?s=p({},$d):s=i,Fe(r))return ta(this.currentUrlTree,r,s);let o=this.parseUrl(r);return ta(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,d;a?(c=a.resolve,u=a.reject,d=a.promise):d=new Promise((f,m)=>{c=f,u=m});let h=this.pendingTasks.add();return xd(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(f=>Promise.reject(f))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Vd(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new P(4008,!1)}function zd(t){return!(t instanceof Vt)&&!(t instanceof ct)}var ca=(()=>{let e=class e{constructor(r,i,s,o,a,c){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.onChanges=new Ee,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=r.events.subscribe(d=>{d instanceof de&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Fe(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,i,s,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:go(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.routerLinkInput===null?null:Fe(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(Y(qn),Y($e),ho("tabindex"),Y($r),Y(xr),Y(Wr))},e.\u0275dir=dn({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&_o("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Eo("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",yn],skipLocationChange:[2,"skipLocationChange","skipLocationChange",yn],replaceUrl:[2,"replaceUrl","replaceUrl",yn],routerLink:"routerLink"},standalone:!0,features:[yo,hn]});let t=e;return t})(),yv=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,s,o,a){this.router=r,this.element=i,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new tt,this.routerEventsSubscription=r.events.subscribe(c=>{c instanceof de&&this.update()})}ngAfterContentInit(){v(this.links.changes,v(null)).pipe(Pr()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=F(r).pipe(Pr()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.isActiveChange.emit(r))})}isLinkActive(r){let i=Bd(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?r.isActive(o,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(Y(qn),Y(xr),Y($r),Y(vn),Y(ca,8))},e.\u0275dir=dn({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,o){if(i&1&&bo(o,ca,5),i&2){let a;Ro(a=So())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[hn]});let t=e;return t})();function Bd(t){return!!t.paths}var Wd=new C("");function Iv(t,...e){return oe([{provide:Fi,multi:!0,useValue:t},[],{provide:$e,useFactory:Hd,deps:[qn]},{provide:Vr,multi:!0,useFactory:qd},e.map(n=>n.\u0275providers)])}function Hd(t){return t.routerState.root}function qd(){let t=g(et);return e=>{let n=t.get(mn);if(e!==n.components[0])return;let r=t.get(qn),i=t.get(Gd);t.get(Kd)===1&&r.initialNavigation(),t.get(Jd,null,Mr.Optional)?.setUpPreloading(),t.get(Wd,null,Mr.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Gd=new C("",{factory:()=>new Ee}),Kd=new C("",{providedIn:"root",factory:()=>1});var Jd=new C("");var Fa=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Yd=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},ja={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4,f=(a&15)<<2|u>>6,m=u&63;c||(m=64,o||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Fa(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Yd(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new Vi;let f=s<<2|a>>4;if(r.push(f),u!==64){let m=a<<4&240|u>>2;if(r.push(m),h!==64){let E=u<<6&192|h;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Vi=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Xd=function(t){let e=Fa(t);return ja.encodeByteArray(e,!0)},Jt=function(t){return Xd(t).replace(/\./g,"")},Bi=function(t){try{return ja.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Zd(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Qd=()=>Zd().__FIREBASE_DEFAULTS__,eh=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},th=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Bi(t[1]);return e&&JSON.parse(e)},Kn=()=>{try{return Qd()||eh()||th()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Wi=t=>{var e,n;return(n=(e=Kn())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Tv=t=>{let e=Wi(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Hi=()=>{var t;return(t=Kn())===null||t===void 0?void 0:t.config},qi=t=>{var e;return(e=Kn())===null||e===void 0?void 0:e[`_${t}`]};var Gn=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function _v(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Jt(JSON.stringify(n)),Jt(JSON.stringify(o)),""].join(".")}function L(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $a(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(L())}function nh(){var t;let e=(t=Kn())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Va(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function za(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ba(){let t=L();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function bv(){return!nh()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Wa(){try{return typeof indexedDB=="object"}catch{return!1}}function Ha(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var rh="FirebaseError",Z=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=rh,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,he.prototype.create)}},he=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?ih(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Z(i,a,r)}};function ih(t,e){return t.replace(sh,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var sh=/\{\$([^}]+)}/g;function qa(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function dt(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(xa(s)&&xa(o)){if(!dt(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function xa(t){return t!==null&&typeof t=="object"}function Yt(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ht(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ft(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Ga(t,e){let n=new zi(t,e);return n.subscribe.bind(n)}var zi=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");oh(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=$i),i.error===void 0&&(i.error=$i),i.complete===void 0&&(i.complete=$i);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function oh(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $i(){}var Rv=4*60*60*1e3;function fe(t){return t&&t._delegate?t._delegate:t}var te=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ve="[DEFAULT]";var Gi=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Gn;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ch(e))try{this.getOrInitializeService({instanceIdentifier:Ve})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ve){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return l(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ve){return this.instances.has(e)}getOptions(e=Ve){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ah(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ve){return this.component?this.component.multipleInstances?e:Ve:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function ah(t){return t===Ve?void 0:t}function ch(t){return t.instantiationMode==="EAGER"}var Jn=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Gi(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var uh=[],A=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(A||{}),lh={debug:A.DEBUG,verbose:A.VERBOSE,info:A.INFO,warn:A.WARN,error:A.ERROR,silent:A.SILENT},dh=A.INFO,hh={[A.DEBUG]:"log",[A.VERBOSE]:"log",[A.INFO]:"info",[A.WARN]:"warn",[A.ERROR]:"error"},fh=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=hh[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},pt=class{constructor(e){this.name=e,this._logLevel=dh,this._logHandler=fh,this._userLogHandler=null,uh.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in A))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lh[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,A.DEBUG,...e),this._logHandler(this,A.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,A.VERBOSE,...e),this._logHandler(this,A.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,A.INFO,...e),this._logHandler(this,A.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,A.WARN,...e),this._logHandler(this,A.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,A.ERROR,...e),this._logHandler(this,A.ERROR,...e)}};var ph=(t,e)=>e.some(n=>t instanceof n),Ka,Ja;function gh(){return Ka||(Ka=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mh(){return Ja||(Ja=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Ya=new WeakMap,Ji=new WeakMap,Xa=new WeakMap,Ki=new WeakMap,Xi=new WeakMap;function vh(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ne(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Ya.set(n,t)}).catch(()=>{}),Xi.set(e,t),e}function yh(t){if(Ji.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ji.set(t,e)}var Yi={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ji.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Xa.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ne(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Za(t){Yi=t(Yi)}function Ih(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Yn(this),e,...n);return Xa.set(r,e.sort?e.sort():[e]),ne(r)}:mh().includes(t)?function(...e){return t.apply(Yn(this),e),ne(Ya.get(this))}:function(...e){return ne(t.apply(Yn(this),e))}}function wh(t){return typeof t=="function"?Ih(t):(t instanceof IDBTransaction&&yh(t),ph(t,gh())?new Proxy(t,Yi):t)}function ne(t){if(t instanceof IDBRequest)return vh(t);if(Ki.has(t))return Ki.get(t);let e=wh(t);return e!==t&&(Ki.set(t,e),Xi.set(e,t)),e}var Yn=t=>Xi.get(t);function ec(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=ne(o);return r&&o.addEventListener("upgradeneeded",c=>{r(ne(o.result),c.oldVersion,c.newVersion,ne(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var Eh=["get","getKey","getAll","getAllKeys","count"],Th=["put","add","delete","clear"],Zi=new Map;function Qa(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zi.get(e))return Zi.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=Th.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Eh.includes(n)))return;let s=function(o,...a){return l(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return Zi.set(e,s),s}Za(t=>k(p({},t),{get:(e,n,r)=>Qa(e,n)||t.get(e,n,r),has:(e,n)=>!!Qa(e,n)||t.has(e,n)}));var es=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_h(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function _h(t){let e=t.getComponent();return e?.type==="VERSION"}var ts="@firebase/app",tc="0.10.10";var pe=new pt("@firebase/app"),bh="@firebase/app-compat",Rh="@firebase/analytics-compat",Sh="@firebase/analytics",Ah="@firebase/app-check-compat",Ch="@firebase/app-check",Oh="@firebase/auth",Ph="@firebase/auth-compat",Dh="@firebase/database",Nh="@firebase/database-compat",kh="@firebase/functions",Mh="@firebase/functions-compat",Lh="@firebase/installations",Uh="@firebase/installations-compat",xh="@firebase/messaging",Fh="@firebase/messaging-compat",jh="@firebase/performance",$h="@firebase/performance-compat",Vh="@firebase/remote-config",zh="@firebase/remote-config-compat",Bh="@firebase/storage",Wh="@firebase/storage-compat",Hh="@firebase/firestore",qh="@firebase/vertexai-preview",Gh="@firebase/firestore-compat",Kh="firebase",Jh="10.13.1";var ns="[DEFAULT]",Yh={[ts]:"fire-core",[bh]:"fire-core-compat",[Sh]:"fire-analytics",[Rh]:"fire-analytics-compat",[Ch]:"fire-app-check",[Ah]:"fire-app-check-compat",[Oh]:"fire-auth",[Ph]:"fire-auth-compat",[Dh]:"fire-rtdb",[Nh]:"fire-rtdb-compat",[kh]:"fire-fn",[Mh]:"fire-fn-compat",[Lh]:"fire-iid",[Uh]:"fire-iid-compat",[xh]:"fire-fcm",[Fh]:"fire-fcm-compat",[jh]:"fire-perf",[$h]:"fire-perf-compat",[Vh]:"fire-rc",[zh]:"fire-rc-compat",[Bh]:"fire-gcs",[Wh]:"fire-gcs-compat",[Hh]:"fire-fst",[Gh]:"fire-fst-compat",[qh]:"fire-vertex","fire-js":"fire-js",[Kh]:"fire-js-all"};var Xt=new Map,Xh=new Map,rs=new Map;function nc(t,e){try{t.container.addComponent(e)}catch(n){pe.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function gt(t){let e=t.name;if(rs.has(e))return pe.debug(`There were multiple attempts to register component ${e}.`),!1;rs.set(e,t);for(let n of Xt.values())nc(n,t);for(let n of Xh.values())nc(n,t);return!0}function as(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Q(t){return t.settings!==void 0}var Zh={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oe=new he("app","Firebase",Zh);var is=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new te("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oe.create("app-deleted",{appName:this._name})}};var mt=Jh;function cs(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:ns,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Oe.create("bad-app-name",{appName:String(i)});if(n||(n=Hi()),!n)throw Oe.create("no-options");let s=Xt.get(i);if(s){if(dt(n,s.options)&&dt(r,s.config))return s;throw Oe.create("duplicate-app",{appName:i})}let o=new Jn(i);for(let c of rs.values())o.addComponent(c);let a=new is(n,r,o);return Xt.set(i,a),a}function Xn(t=ns){let e=Xt.get(t);if(!e&&t===ns&&Hi())return cs();if(!e)throw Oe.create("no-app",{appName:t});return e}function Zn(){return Array.from(Xt.values())}function $(t,e,n){var r;let i=(r=Yh[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pe.warn(a.join(" "));return}gt(new te(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Qh="firebase-heartbeat-database",ef=1,Zt="firebase-heartbeat-store",Qi=null;function oc(){return Qi||(Qi=ec(Qh,ef,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zt)}catch(n){console.warn(n)}}}}).catch(t=>{throw Oe.create("idb-open",{originalErrorMessage:t.message})})),Qi}function tf(t){return l(this,null,function*(){try{let n=(yield oc()).transaction(Zt),r=yield n.objectStore(Zt).get(ac(t));return yield n.done,r}catch(e){if(e instanceof Z)pe.warn(e.message);else{let n=Oe.create("idb-get",{originalErrorMessage:e?.message});pe.warn(n.message)}}})}function rc(t,e){return l(this,null,function*(){try{let r=(yield oc()).transaction(Zt,"readwrite");yield r.objectStore(Zt).put(e,ac(t)),yield r.done}catch(n){if(n instanceof Z)pe.warn(n.message);else{let r=Oe.create("idb-set",{originalErrorMessage:n?.message});pe.warn(r.message)}}})}function ac(t){return`${t.name}!${t.options.appId}`}var nf=1024,rf=30*24*60*60*1e3,ss=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new os(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return l(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ic();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=rf}),this._storage.overwrite(this._heartbeatsCache))}catch(r){pe.warn(r)}})}getHeartbeatsHeader(){return l(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=ic(),{heartbeatsToSend:r,unsentEntries:i}=sf(this._heartbeatsCache.heartbeats),s=Jt(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return pe.warn(n),""}})}};function ic(){return new Date().toISOString().substring(0,10)}function sf(t,e=nf){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),sc(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),sc(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var os=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return l(this,null,function*(){return Wa()?Ha().then(()=>!0).catch(()=>!1):!1})}read(){return l(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield tf(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return l(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return rc(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return l(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return rc(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function sc(t){return Jt(JSON.stringify({version:2,heartbeats:t})).length}function of(t){gt(new te("platform-logger",e=>new es(e),"PRIVATE")),gt(new te("heartbeat",e=>new ss(e),"PRIVATE")),$(ts,tc,t),$(ts,tc,"esm2017"),$("fire-js","")}of("");var af="firebase",cf="10.13.1";$(af,cf,"app");var Qt=new pn("ANGULARFIRE2_VERSION");function cc(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var ls=(t,e)=>{let n=e?[e]:Zn(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Qn=class{constructor(){return ls(uf)}},uf="app-check";function vt(){}var er=class{zone;delegate;constructor(e,n=Qs){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},us=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",vt,{},vt,vt)),n.pipe(D({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},tr=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new er(Zone.current)),this.insideAngular=n.run(()=>new er(Zone.current,Zs)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(b(j))};static \u0275prov=_({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function nr(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function lf(t){return nr().ngZone.runOutsideAngular(()=>t())}function ze(t){return nr().ngZone.run(()=>t())}function df(t){return hf(nr())(t)}function hf(t){return function(n){return n=n.lift(new us(t.ngZone)),n.pipe(Cr(t.outsideAngular),Ar(t.insideAngular))}}var ff=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ze(()=>t.apply(void 0,r))},Be=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=ze(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",vt,{},vt,vt))),r[s]=ff(r[s],n));let i=lf(()=>t.apply(this,r));if(!e)if(i instanceof we){let s=nr();return i.pipe(Cr(s.outsideAngular),Ar(s.insideAngular))}else return ze(()=>i);return i instanceof we?i.pipe(df):i instanceof Promise?ze(()=>new Promise((s,o)=>i.then(a=>ze(()=>s(a)),a=>ze(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:ze(()=>i)};var We=class{constructor(e){return e}},en=class{constructor(){return Zn()}};function pf(t){return t&&t.length===1?t[0]:new We(Xn())}var ds=new C("angularfire2._apps"),gf={provide:We,useFactory:pf,deps:[[new se,ds]]},mf={provide:en,deps:[[new se,ds]]};function vf(t){return(e,n)=>{let r=n.get(ae);$("angularfire",Qt.full,"core"),$("angularfire",Qt.full,"app"),$("angular",Co.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new We(i)}}function dy(t,...e){return oe([gf,mf,{provide:ds,useFactory:vf(t),multi:!0,deps:[j,et,tr,...e]}])}var hy=Be(cs,!0);function Rc(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Sc=Rc,Ac=new he("auth","Firebase",Rc());var cr=new pt("@firebase/auth");function yf(t,...e){cr.logLevel<=A.WARN&&cr.warn(`Auth (${mt}): ${t}`,...e)}function ir(t,...e){cr.logLevel<=A.ERROR&&cr.error(`Auth (${mt}): ${t}`,...e)}function ie(t,...e){throw Ms(t,...e)}function He(t,...e){return Ms(t,...e)}function Cc(t,e,n){let r=Object.assign(Object.assign({},Sc()),{[e]:n});return new he("auth","Firebase",r).create(e,{appName:t.name})}function ve(t){return Cc(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ms(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Ac.create(t,...e)}function y(t,e,...n){if(!t)throw Ms(e,...n)}function ge(t){let e="INTERNAL ASSERTION FAILED: "+t;throw ir(e),new Error(e)}function De(t,e){t||ge(e)}function gs(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function If(){return uc()==="http:"||uc()==="https:"}function uc(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function wf(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(If()||Va()||"connection"in navigator)?navigator.onLine:!0}function Ef(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var qe=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,De(n>e,"Short delay should be less than long delay!"),this.isMobile=$a()||za()}get(){return wf()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Ls(t,e){De(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var ur=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Tf={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var _f=new qe(3e4,6e4);function Ne(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function ke(s,o,a,c){return l(this,arguments,function*(t,e,n,r,i={}){return Oc(t,i,()=>l(this,null,function*(){let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});let h=Yt(Object.assign({key:t.config.apiKey},d)).slice(1),f=yield t._getAdditionalHeaders();return f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode),ur.fetch()(Pc(t,t.config.apiHost,n,h),Object.assign({method:e,headers:f,referrerPolicy:"no-referrer"},u))}))})}function Oc(t,e,n){return l(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},Tf),e);try{let i=new ms(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw rr(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw rr(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw rr(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw rr(t,"user-disabled",o);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Cc(t,d,u);ie(t,d)}}catch(i){if(i instanceof Z)throw i;ie(t,"network-request-failed",{message:String(i)})}})}function un(s,o,a,c){return l(this,arguments,function*(t,e,n,r,i={}){let u=yield ke(t,e,n,r,i);return"mfaPendingCredential"in u&&ie(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function Pc(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Ls(t.config,i):`${t.config.apiScheme}://${i}`}function bf(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var ms=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(He(this.auth,"network-request-failed")),_f.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function rr(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=He(t,e,r);return i.customData._tokenResponse=n,i}function lc(t){return t!==void 0&&t.enterprise!==void 0}var vs=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return bf(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function Rf(t,e){return l(this,null,function*(){return ke(t,"GET","/v2/recaptchaConfig",Ne(t,e))})}function Sf(t,e){return l(this,null,function*(){return ke(t,"POST","/v1/accounts:delete",e)})}function Dc(t,e){return l(this,null,function*(){return ke(t,"POST","/v1/accounts:lookup",e)})}function tn(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Us(t,e=!1){return l(this,null,function*(){let n=fe(t),r=yield n.getIdToken(e),i=xs(r);y(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:tn(hs(i.auth_time)),issuedAtTime:tn(hs(i.iat)),expirationTime:tn(hs(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function hs(t){return Number(t)*1e3}function xs(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ir("JWT malformed, contained fewer than 3 sections"),null;try{let i=Bi(n);return i?JSON.parse(i):(ir("Failed to decode base64 JWT payload"),null)}catch(i){return ir("Caught error parsing JWT payload as JSON",i?.toString()),null}}function dc(t){let e=xs(t);return y(e,"internal-error"),y(typeof e.exp<"u","internal-error"),y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function rn(t,e,n=!1){return l(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Z&&Af(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function Af({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var ys=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>l(this,null,function*(){yield this.iteration()}),n)}iteration(){return l(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var sn=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=tn(this.lastLoginAt),this.creationTime=tn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function lr(t){return l(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield rn(t,Dc(n,{idToken:r}));y(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Nc(s.providerUserInfo):[],a=Cf(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,d=c?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new sn(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)})}function Fs(t){return l(this,null,function*(){let e=fe(t);yield lr(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Cf(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Nc(t){return t.map(e=>{var{providerId:n}=e,r=Sr(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Of(t,e){return l(this,null,function*(){let n=yield Oc(t,{},()=>l(this,null,function*(){let r=Yt({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Pc(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ur.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Pf(t,e){return l(this,null,function*(){return ke(t,"POST","/v2/accounts:revokeToken",Ne(t,e))})}var nn=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){y(e.idToken,"internal-error"),y(typeof e.idToken<"u","internal-error"),y(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dc(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){y(e.length!==0,"internal-error");let n=dc(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return l(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return l(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield Of(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(y(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(y(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(y(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return ge("not implemented")}};function Pe(t,e){y(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var yt=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Sr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ys(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new sn(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return l(this,null,function*(){let n=yield rn(this,this.stsTokenManager.getToken(this.auth,e));return y(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Us(this,e)}reload(){return Fs(this)}_assign(e){this!==e&&(y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return l(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield lr(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return l(this,null,function*(){if(Q(this.auth.app))return Promise.reject(ve(this.auth));let e=yield this.getIdToken();return yield rn(this,Sf(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,d;let h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,N=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,T=(u=n.createdAt)!==null&&u!==void 0?u:void 0,U=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:x,emailVerified:O,isAnonymous:ye,providerData:K,stsTokenManager:Ie}=n;y(x&&Ie,e,"internal-error");let ln=nn.fromJSON(this.name,Ie);y(typeof x=="string",e,"internal-error"),Pe(h,e.name),Pe(f,e.name),y(typeof O=="boolean",e,"internal-error"),y(typeof ye=="boolean",e,"internal-error"),Pe(m,e.name),Pe(E,e.name),Pe(N,e.name),Pe(w,e.name),Pe(T,e.name),Pe(U,e.name);let _r=new t({uid:x,auth:e,email:f,emailVerified:O,displayName:h,isAnonymous:ye,photoURL:E,phoneNumber:m,tenantId:N,stsTokenManager:ln,createdAt:T,lastLoginAt:U});return K&&Array.isArray(K)&&(_r.providerData=K.map(lu=>Object.assign({},lu))),w&&(_r._redirectEventId=w),_r}static _fromIdTokenResponse(e,n,r=!1){return l(this,null,function*(){let i=new nn;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield lr(s),s})}static _fromGetAccountInfoResponse(e,n,r){return l(this,null,function*(){let i=n.users[0];y(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?Nc(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new nn;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new sn(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,u),c})}};var hc=new Map;function me(t){De(t instanceof Function,"Expected a class definition");let e=hc.get(t);return e?(De(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,hc.set(t,e),e)}var Df=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return l(this,null,function*(){return!0})}_set(n,r){return l(this,null,function*(){this.storage[n]=r})}_get(n){return l(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return l(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Is=Df;function sr(t,e,n){return`firebase:${t}:${e}:${n}`}var dr=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=sr(this.userKey,i.apiKey,s),this.fullPersistenceKey=sr("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return l(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?yt._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return l(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return l(this,null,function*(){if(!n.length)return new t(me(Is),e,r);let i=(yield Promise.all(n.map(u=>l(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||me(Is),o=sr(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let d=yield u._get(o);if(d){let h=yt._fromJSON(e,d);u!==s&&(a=h),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>l(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function fc(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Uc(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kc(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Fc(e))return"Blackberry";if(jc(e))return"Webos";if(Mc(e))return"Safari";if((e.includes("chrome/")||Lc(e))&&!e.includes("edge/"))return"Chrome";if(xc(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function kc(t=L()){return/firefox\//i.test(t)}function Mc(t=L()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Lc(t=L()){return/crios\//i.test(t)}function Uc(t=L()){return/iemobile/i.test(t)}function xc(t=L()){return/android/i.test(t)}function Fc(t=L()){return/blackberry/i.test(t)}function jc(t=L()){return/webos/i.test(t)}function js(t=L()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Nf(t=L()){var e;return js(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function kf(){return Ba()&&document.documentMode===10}function $c(t=L()){return js(t)||xc(t)||jc(t)||Fc(t)||/windows phone/i.test(t)||Uc(t)}function Vc(t,e=[]){let n;switch(t){case"Browser":n=fc(L());break;case"Worker":n=`${fc(L())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mt}/${r}`}var ws=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return l(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Mf(n){return l(this,arguments,function*(t,e={}){return ke(t,"GET","/v2/passwordPolicy",Ne(t,e))})}var Lf=6,Es=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Lf,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Ts=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hr(this),this.idTokenSubscription=new hr(this),this.beforeStateQueue=new ws(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ac,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=me(n)),this._initializationPromise=this.queue(()=>l(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield dr.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return l(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return l(this,null,function*(){try{let n=yield Dc(this,{idToken:e}),r=yield yt._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return l(this,null,function*(){var n;if(Q(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return y(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return l(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return l(this,null,function*(){try{yield lr(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Ef()}_delete(){return l(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return l(this,null,function*(){if(Q(this.app))return Promise.reject(ve(this));let n=e?fe(e):null;return n&&y(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return l(this,null,function*(){if(!this._deleted)return e&&y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>l(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return l(this,null,function*(){return Q(this.app)?Promise.reject(ve(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Q(this.app)?Promise.reject(ve(this)):this.queue(()=>l(this,null,function*(){yield this.assertedPersistence.setPersistence(me(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return l(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return l(this,null,function*(){let e=yield Mf(this),n=new Es(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new he("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return l(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Pf(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return l(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return l(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&me(e)||this._popupRedirectResolver;y(n,this,"argument-error"),this.redirectPersistenceManager=yield dr.create(this,[me(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return l(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>l(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return l(this,null,function*(){if(e===this.currentUser)return this.queue(()=>l(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(y(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return l(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Vc(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return l(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return l(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&yf(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Ke(t){return fe(t)}var hr=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ga(n=>this.observer=n)}get next(){return y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Ir={loadJS(){return l(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Uf(t){Ir=t}function zc(t){return Ir.loadJS(t)}function xf(){return Ir.recaptchaEnterpriseScript}function Ff(){return Ir.gapiScript}function Bc(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var jf="recaptcha-enterprise",$f="NO_RECAPTCHA",_s=class{constructor(e){this.type=jf,this.auth=Ke(e)}verify(e="verify",n=!1){return l(this,null,function*(){function r(s){return l(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>l(this,null,function*(){Rf(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new vs(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(s,o,a){let c=window.grecaptcha;lc(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o($f)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&lc(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=xf();c.length!==0&&(c+=a),zc(c).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})})}};function pc(t,e,n,r=!1){return l(this,null,function*(){let i=new _s(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function bs(t,e,n,r){return l(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield pc(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>l(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield pc(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function $s(t,e){let n=as(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(dt(s,e??{}))return i;ie(i,"already-initialized")}return n.initialize({options:e})}function Vf(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(me);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Vs(t,e,n){let r=Ke(t);y(r._canInitEmulator,r,"emulator-config-failed"),y(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=Wc(e),{host:o,port:a}=zf(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Bf()}function Wc(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function zf(t){let e=Wc(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:gc(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:gc(o)}}}function gc(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function Bf(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var on=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ge("not implemented")}_getIdTokenResponse(e){return ge("not implemented")}_linkToIdToken(e,n){return ge("not implemented")}_getReauthenticationResolver(e){return ge("not implemented")}};function Wf(t,e){return l(this,null,function*(){return ke(t,"POST","/v1/accounts:signUp",e)})}function Hf(t,e){return l(this,null,function*(){return un(t,"POST","/v1/accounts:signInWithPassword",Ne(t,e))})}function qf(t,e){return l(this,null,function*(){return un(t,"POST","/v1/accounts:signInWithEmailLink",Ne(t,e))})}function Gf(t,e){return l(this,null,function*(){return un(t,"POST","/v1/accounts:signInWithEmailLink",Ne(t,e))})}var an=class t extends on{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return l(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bs(e,n,"signInWithPassword",Hf);case"emailLink":return qf(e,{email:this._email,oobCode:this._password});default:ie(e,"internal-error")}})}_linkToIdToken(e,n){return l(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bs(e,r,"signUpPassword",Wf);case"emailLink":return Gf(e,{idToken:n,email:this._email,oobCode:this._password});default:ie(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function fs(t,e){return l(this,null,function*(){return un(t,"POST","/v1/accounts:signInWithIdp",Ne(t,e))})}function Kf(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Jf(t){let e=ht(ft(t)).link,n=e?ht(ft(e)).deep_link_id:null,r=ht(ft(t)).deep_link_id;return(r?ht(ft(r)).link:null)||r||n||e||t}var fr=class t{constructor(e){var n,r,i,s,o,a;let c=ht(ft(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,h=Kf((i=c.mode)!==null&&i!==void 0?i:null);y(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=Jf(e);try{return new t(n)}catch{return null}}};var Hc=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return an._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=fr.parseLink(r);return y(i,"argument-error"),an._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),pr=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Rs=class extends pr{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function Yf(t,e){return l(this,null,function*(){return un(t,"POST","/v1/accounts:signUp",Ne(t,e))})}var It=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return l(this,null,function*(){let s=yield yt._fromIdTokenResponse(e,r,i),o=mc(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return l(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=mc(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function mc(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Ss=class t extends Z{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function qc(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ss._fromErrorAndOperation(t,s,e,r):s})}function Xf(t,e,n=!1){return l(this,null,function*(){let r=yield rn(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return It._forOperation(t,"link",r)})}function Zf(t,e,n=!1){return l(this,null,function*(){let{auth:r}=t;if(Q(r.app))return Promise.reject(ve(r));let i="reauthenticate";try{let s=yield rn(t,qc(r,i,e,t),n);y(s.idToken,r,"internal-error");let o=xs(s.idToken);y(o,r,"internal-error");let{sub:a}=o;return y(t.uid===a,r,"user-mismatch"),It._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&ie(r,"user-mismatch"),s}})}function Gc(t,e,n=!1){return l(this,null,function*(){if(Q(t.app))return Promise.reject(ve(t));let r="signIn",i=yield qc(t,r,e),s=yield It._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function zs(t,e){return l(this,null,function*(){return Gc(Ke(t),e)})}function Kc(t){return l(this,null,function*(){let e=Ke(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Bs(t,e,n){return l(this,null,function*(){if(Q(t.app))return Promise.reject(ve(t));let r=Ke(t),o=yield bs(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Yf).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Kc(t),c}),a=yield It._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function Ws(t,e,n){return Q(t.app)?Promise.reject(ve(t)):zs(fe(t),Hc.credential(e,n)).catch(r=>l(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&Kc(t),r}))}function wr(t,e,n,r){return fe(t).onIdTokenChanged(e,n,r)}function Hs(t,e,n){return fe(t).beforeAuthStateChanged(e,n)}function Er(t,e,n,r){return fe(t).onAuthStateChanged(e,n,r)}var gr="__sak";var mr=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gr,"1"),this.storage.removeItem(gr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var Qf=1e3,ep=10,tp=(()=>{class t extends mr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$c(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);kf()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,ep):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},Qf)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return l(this,null,function*(){yield Me(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return l(this,null,function*(){let r=yield Me(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return l(this,null,function*(){yield Me(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),Jc=tp;var np=(()=>{class t extends mr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),qs=np;function rp(t){return Promise.all(t.map(e=>l(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var ip=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return l(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(d=>l(this,null,function*(){return d(r.origin,o)})),u=yield rp(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Yc(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var As=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return l(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=Yc("",20);i.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){let f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function re(){return window}function sp(t){re().location.href=t}function Xc(){return typeof re().WorkerGlobalScope<"u"&&typeof re().importScripts=="function"}function op(){return l(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function ap(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function cp(){return Xc()?self:null}var Zc="firebaseLocalStorageDb",up=1,vr="firebaseLocalStorage",Qc="fbase_key",Ge=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Tr(t,e){return t.transaction([vr],e?"readwrite":"readonly").objectStore(vr)}function lp(){let t=indexedDB.deleteDatabase(Zc);return new Ge(t).toPromise()}function Cs(){let t=indexedDB.open(Zc,up);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(vr,{keyPath:Qc})}catch(i){n(i)}}),t.addEventListener("success",()=>l(this,null,function*(){let r=t.result;r.objectStoreNames.contains(vr)?e(r):(r.close(),yield lp(),e(yield Cs()))}))})}function vc(t,e,n){return l(this,null,function*(){let r=Tr(t,!0).put({[Qc]:e,value:n});return new Ge(r).toPromise()})}function dp(t,e){return l(this,null,function*(){let n=Tr(t,!1).get(e),r=yield new Ge(n).toPromise();return r===void 0?null:r.value})}function yc(t,e){let n=Tr(t,!0).delete(e);return new Ge(n).toPromise()}var hp=800,fp=3,pp=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return l(this,null,function*(){return this.db?this.db:(this.db=yield Cs(),this.db)})}_withRetries(n){return l(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>fp)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return l(this,null,function*(){return Xc()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return l(this,null,function*(){this.receiver=ip._getInstance(cp()),this.receiver._subscribe("keyChanged",(n,r)=>l(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>l(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return l(this,null,function*(){var n,r;if(this.activeServiceWorker=yield op(),!this.activeServiceWorker)return;this.sender=new As(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return l(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||ap()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return l(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Cs();return yield vc(n,gr,"1"),yield yc(n,gr),!0}catch{}return!1})}_withPendingWrite(n){return l(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return l(this,null,function*(){return this._withPendingWrite(()=>l(this,null,function*(){return yield this._withRetries(i=>vc(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return l(this,null,function*(){let r=yield this._withRetries(i=>dp(i,n));return this.localCache[n]=r,r})}_remove(n){return l(this,null,function*(){return this._withPendingWrite(()=>l(this,null,function*(){return yield this._withRetries(r=>yc(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return l(this,null,function*(){let n=yield this._withRetries(s=>{let o=Tr(s,!1).getAll();return new Ge(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>l(this,null,function*(){return this._poll()}),hp)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),eu=pp;var wy=Bc("rcb"),Ey=new qe(3e4,6e4);function gp(t,e){return e?me(e):(y(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var cn=class extends on{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fs(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function mp(t){return Gc(t.auth,new cn(t),t.bypassAuthState)}function vp(t){let{auth:e,user:n}=t;return y(n,e,"internal-error"),Zf(n,new cn(t),t.bypassAuthState)}function yp(t){return l(this,null,function*(){let{auth:e,user:n}=t;return y(n,e,"internal-error"),Xf(n,new cn(t),t.bypassAuthState)})}var Os=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>l(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return l(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mp;case"linkViaPopup":case"linkViaRedirect":return yp;case"reauthViaPopup":case"reauthViaRedirect":return vp;default:ie(this.auth,"internal-error")}}resolve(e){De(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){De(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Ty=new qe(2e3,1e4);var Ip="pendingRedirect",or=new Map,Ps=class t extends Os{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return l(this,null,function*(){let e=or.get(this.auth._key());if(!e){try{let r=(yield wp(this.resolver,this.auth))?yield Me(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}or.set(this.auth._key(),e)}return this.bypassAuthState||or.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return l(this,null,function*(){if(e.type==="signInViaRedirect")return Me(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Me(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return l(this,null,function*(){})}cleanUp(){}};function wp(t,e){return l(this,null,function*(){let n=_p(e),r=Tp(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function Ep(t,e){or.set(t._key(),e)}function Tp(t){return me(t._redirectPersistence)}function _p(t){return sr(Ip,t.config.apiKey,t.name)}function bp(t,e,n=!1){return l(this,null,function*(){if(Q(t.app))return Promise.reject(ve(t));let r=Ke(t),i=gp(r,e),o=yield new Ps(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var Rp=10*60*1e3,Ds=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Sp(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!tu(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(He(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Rp&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ic(e))}saveEventToCache(e){this.cachedEventUids.add(Ic(e)),this.lastProcessedEventTime=Date.now()}};function Ic(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function tu({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Sp(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tu(t);default:return!1}}function Ap(n){return l(this,arguments,function*(t,e={}){return ke(t,"GET","/v1/projects",e)})}var Cp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Op=/^https?/;function Pp(t){return l(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield Ap(t);for(let n of e)try{if(Dp(n))return}catch{}ie(t,"unauthorized-domain")})}function Dp(t){let e=gs(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Op.test(n))return!1;if(Cp.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var Np=new qe(3e4,6e4);function wc(){let t=re().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function kp(t){return new Promise((e,n)=>{var r,i,s;function o(){wc(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wc(),n(He(t,"network-request-failed"))},timeout:Np.get()})}if(!((i=(r=re().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=re().gapi)===null||s===void 0)&&s.load)o();else{let a=Bc("iframefcb");return re()[a]=()=>{gapi.load?o():n(He(t,"network-request-failed"))},zc(`${Ff()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw ar=null,e})}var ar=null;function Mp(t){return ar=ar||kp(t),ar}var Lp=new qe(5e3,15e3),Up="__/auth/iframe",xp="emulator/auth/iframe",Fp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $p(t){let e=t.config;y(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Ls(e,xp):`https://${t.config.authDomain}/${Up}`,r={apiKey:e.apiKey,appName:t.name,v:mt},i=jp.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Yt(r).slice(1)}`}function Vp(t){return l(this,null,function*(){let e=yield Mp(t),n=re().gapi;return y(n,t,"internal-error"),e.open({where:document.body,url:$p(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Fp,dontclear:!0},r=>new Promise((i,s)=>l(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=He(t,"network-request-failed"),a=re().setTimeout(()=>{s(o)},Lp.get());function c(){re().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var zp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Bp=500,Wp=600,Hp="_blank",qp="http://localhost",yr=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Gp(t,e,n,r=Bp,i=Wp){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},zp),{width:r.toString(),height:i.toString(),top:s,left:o}),u=L().toLowerCase();n&&(a=Lc(u)?Hp:n),kc(u)&&(e=e||qp,c.scrollbars="yes");let d=Object.entries(c).reduce((f,[m,E])=>`${f}${m}=${E},`,"");if(Nf(u)&&a!=="_self")return Kp(e||"",a),new yr(null);let h=window.open(e||"",a,d);y(h,t,"popup-blocked");try{h.focus()}catch{}return new yr(h)}function Kp(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Jp="__/auth/handler",Yp="emulator/auth/handler",Xp=encodeURIComponent("fac");function Ec(t,e,n,r,i,s){return l(this,null,function*(){y(t.config.authDomain,t,"auth-domain-config-required"),y(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:mt,eventId:i};if(e instanceof pr){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",qa(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof Rs){let d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield t._getAppCheckToken(),u=c?`#${Xp}=${encodeURIComponent(c)}`:"";return`${Zp(t)}?${Yt(a).slice(1)}${u}`})}function Zp({config:t}){return t.emulator?Ls(t,Yp):`https://${t.authDomain}/${Jp}`}var ps="webStorageSupport",Ns=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qs,this._completeRedirectFn=bp,this._overrideRedirectResult=Ep}_openPopup(e,n,r,i){return l(this,null,function*(){var s;De((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield Ec(e,n,r,gs(),i);return Gp(e,o,Yc())})}_openRedirect(e,n,r,i){return l(this,null,function*(){yield this._originValidation(e);let s=yield Ec(e,n,r,gs(),i);return sp(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(De(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return l(this,null,function*(){let n=yield Vp(e),r=new Ds(e);return n.register("authEvent",i=>(y(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ps,{type:ps},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[ps];o!==void 0&&n(!!o),ie(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Pp(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $c()||Mc()||js()}},nu=Ns;var Tc="@firebase/auth",_c="1.7.8";var ks=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return l(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Qp(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eg(t){gt(new te("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;y(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vc(t)},u=new Ts(r,i,s,c);return Vf(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),gt(new te("auth-internal",e=>{let n=Ke(e.getProvider("auth").getImmediate());return(r=>new ks(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$(Tc,_c,Qp(t)),$(Tc,_c,"esm2017")}var tg=5*60,ng=qi("authIdTokenMaxAge")||tg,bc=null,rg=t=>e=>l(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ng)return;let i=n?.token;bc!==i&&(bc=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Gs(t=Xn()){let e=as(t,"auth");if(e.isInitialized())return e.getImmediate();let n=$s(t,{popupRedirectResolver:nu,persistence:[eu,Jc,qs]}),r=qi("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=rg(s.toString());Hs(n,o,()=>o(n.currentUser)),wr(n,a=>o(a))}}let i=Wi("auth");return i&&Vs(n,`http://${i}`),n}function ig(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Uf({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=He("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",ig().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eg("Browser");function iu(t){return new we(function(e){var n=Er(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var su="auth",Je=class{constructor(e){return e}},Ks=class{constructor(){return ls(su)}};var Js=new C("angularfire2.auth-instances");function Gg(t,e){let n=cc(su,t,e);return n&&new Je(n)}function Kg(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Je(r)}}var Jg={provide:Ks,deps:[[new se,Js]]},Yg={provide:Je,useFactory:Gg,deps:[[new se,Js],We]};function dI(t,...e){return $("angularfire",Qt.full,"auth"),oe([Yg,Jg,{provide:Js,useFactory:Kg(t),multi:!0,deps:[j,et,tr,en,[new se,Qn],...e]}])}var ou=Be(iu,!0);var au=Be(Bs,!0);var hI=Be(Gs,!0);var cu=Be(Ws,!0);var uu=class t{auth=g(Je);register(e){return au(this.auth,e.email,e.password)}logIn(e){return cu(this.auth,e.email,e.password)}logOut(){return this.auth.signOut()}getUser(){return ou(this.auth)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=_({token:t,factory:t.\u0275fac,providedIn:"root"})};export{dm as a,Go as b,Wm as c,kl as d,qn as e,ca as f,yv as g,Iv as h,Tv as i,_v as j,L as k,bv as l,Z as m,fe as n,te as o,A as p,pt as q,gt as r,as as s,mt as t,Xn as u,$ as v,Qt as w,cc as x,ls as y,Qn as z,tr as A,Be as B,We as C,en as D,dy as E,hy as F,Je as G,Ks as H,dI as I,hI as J,uu as K};
