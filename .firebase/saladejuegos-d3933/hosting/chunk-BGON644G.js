import{b as S,e as y,f as k}from"./chunk-LDKDGNBM.js";import{C as _,D as N,E as j,F as s,G as I,H as M,K as O,L as P,M as T,N as q,O as w,P as A,R as D}from"./chunk-7NGVP2UU.js";import{l as F,n as x}from"./chunk-7AQS2LSG.js";import{$a as u,Db as n,La as a,Lb as C,Ma as h,a as f,b as g,db as l,e as v,ga as p,hb as t,ib as e,ja as b,jb as m,rb as E}from"./chunk-PVR3HKZP.js";function G(o,r){o&1&&(t(0,"div",29),n(1," Nombre es requerido "),e())}function z(o,r){o&1&&(t(0,"div",29),n(1," Apellido es requerido "),e())}function B(o,r){o&1&&(t(0,"div",29),n(1," Edad debe estar entre 18 y 99 a\xF1os "),e())}function R(o,r){o&1&&(t(0,"div",29),n(1," N\xFAmero de tel\xE9fono debe contener 10 d\xEDgitos "),e())}function U(o,r){o&1&&(t(0,"div",29),n(1," Respuesta a la pregunta 1 es requerida "),e())}function J(o,r){o&1&&(t(0,"div",29),n(1," Respuesta a la pregunta 2 es requerida "),e())}function L(o,r){o&1&&(t(0,"div",29),n(1," Respuesta a la pregunta 3 es requerida "),e())}function $(o,r){o&1&&(t(0,"div",29),n(1," Debes seleccionar al menos un lenguaje. "),e())}var H=o=>{let r=o.value;return r.javascript||r.python||r.java?null:{requiredCheckbox:!0}},V=class o{constructor(r){this.fb=r;this.encuestaForm=this.fb.group({nombre:["",s.required],apellido:["",s.required],edad:["",[s.required,s.min(18),s.max(99)]],telefono:["",[s.required,s.pattern("^\\d{10}$")]],pregunta1:["",s.required],pregunta2:["",s.required],pregunta3:["",s.required],lenguajes:this.fb.group({javascript:[!1],python:[!1],java:[!1]},{validator:H})}),this.authService.getUser().subscribe(d=>{this.user=d})}encuestaForm;firestore=p(S);authService=p(_);user=null;ngOnInit(){}onSubmit(){return v(this,null,function*(){if(this.encuestaForm.valid)if(this.user){let r=this.user.uid,d=k(this.firestore,"encuestas");yield y(d,g(f({userId:r},this.encuestaForm.value),{timestamp:new Date})),console.log("Encuesta guardada en Firebase"),this.encuestaForm.reset()}else console.error("No se pudo identificar al usuario");else console.log("Formulario no v\xE1lido")})}static \u0275fac=function(d){return new(d||o)(h(A))};static \u0275cmp=b({type:o,selectors:[["app-encuesta"]],standalone:!0,features:[C],decls:62,vars:10,consts:[[1,"background-image"],[1,"container"],[1,"custom-card"],[1,"custom-card-header"],[1,"mb-0"],[1,"custom-card-body"],[3,"ngSubmit","formGroup"],[1,"custom-form-group"],["for","nombre"],["id","nombre","formControlName","nombre",1,"custom-input"],["class","custom-text-danger",4,"ngIf"],["for","apellido"],["id","apellido","formControlName","apellido",1,"custom-input"],["for","edad"],["id","edad","formControlName","edad","type","number",1,"custom-input"],["for","telefono"],["id","telefono","formControlName","telefono",1,"custom-input"],["formControlName","pregunta1",1,"custom-input"],["formControlName","pregunta2",1,"custom-input"],["formControlName","pregunta3",1,"custom-input"],["formGroupName","lenguajes"],[1,"custom-form-check"],["type","checkbox","id","javascript","formControlName","javascript",1,"custom-checkbox"],["for","javascript"],["type","checkbox","id","python","formControlName","python",1,"custom-checkbox"],["for","python"],["type","checkbox","id","java","formControlName","java",1,"custom-checkbox"],["for","java"],["type","submit",1,"custom-btn",3,"disabled"],[1,"custom-text-danger"]],template:function(d,i){if(d&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),n(5,"Encuesta"),e()(),t(6,"div",5)(7,"form",6),E("ngSubmit",function(){return i.onSubmit()}),t(8,"div",7)(9,"label",8),n(10,"Nombre:"),e(),m(11,"input",9),u(12,G,2,0,"div",10),e(),t(13,"div",7)(14,"label",11),n(15,"Apellido:"),e(),m(16,"input",12),u(17,z,2,0,"div",10),e(),t(18,"div",7)(19,"label",13),n(20,"Edad:"),e(),m(21,"input",14),u(22,B,2,0,"div",10),e(),t(23,"div",7)(24,"label",15),n(25,"Tel\xE9fono:"),e(),m(26,"input",16),u(27,R,2,0,"div",10),e(),t(28,"div",7)(29,"label"),n(30,"\xBFTe ha gustado la p\xE1gina?"),e(),m(31,"input",17),u(32,U,2,0,"div",10),e(),t(33,"div",7)(34,"label"),n(35,"\xBFTe has divertido jugando a los juegos?"),e(),m(36,"input",18),u(37,J,2,0,"div",10),e(),t(38,"div",7)(39,"label"),n(40,"\xBFTe gustar\xEDa ser programador?"),e(),m(41,"input",19),u(42,L,2,0,"div",10),e(),t(43,"div",7)(44,"label"),n(45,"\xBFCu\xE1les de estos lenguajes de programaci\xF3n te interesan?"),e(),t(46,"div",20)(47,"div",21),m(48,"input",22),t(49,"label",23),n(50,"JavaScript"),e()(),t(51,"div",21),m(52,"input",24),t(53,"label",25),n(54,"Python"),e()(),t(55,"div",21),m(56,"input",26),t(57,"label",27),n(58,"Java"),e()(),u(59,$,2,0,"div",10),e()(),t(60,"button",28),n(61,"Enviar"),e()()()()()()),d&2){let c;a(7),l("formGroup",i.encuestaForm),a(5),l("ngIf",i.encuestaForm.controls.nombre.invalid&&i.encuestaForm.controls.nombre.touched),a(5),l("ngIf",i.encuestaForm.controls.apellido.invalid&&i.encuestaForm.controls.apellido.touched),a(5),l("ngIf",i.encuestaForm.controls.edad.invalid&&i.encuestaForm.controls.edad.touched),a(5),l("ngIf",i.encuestaForm.controls.telefono.invalid&&i.encuestaForm.controls.telefono.touched),a(5),l("ngIf",i.encuestaForm.controls.pregunta1.invalid&&i.encuestaForm.controls.pregunta1.touched),a(5),l("ngIf",i.encuestaForm.controls.pregunta2.invalid&&i.encuestaForm.controls.pregunta2.touched),a(5),l("ngIf",i.encuestaForm.controls.pregunta3.invalid&&i.encuestaForm.controls.pregunta3.touched),a(17),l("ngIf",((c=i.encuestaForm.get("lenguajes"))==null?null:c.hasError("requiredCheckbox"))&&((c=i.encuestaForm.get("lenguajes"))==null?null:c.touched)),a(),l("disabled",i.encuestaForm.invalid)}},dependencies:[x,F,D,O,j,P,N,I,M,T,w,q],styles:['@charset "UTF-8";.background-image[_ngcontent-%COMP%]{position:relative;z-index:0;min-height:100vh;display:flex;align-items:center;justify-content:center;padding:2rem}.background-image[_ngcontent-%COMP%]:before{content:"";position:absolute;width:100%;height:100%;background-image:url(https://img.freepik.com/fotos-premium/sala-juegos-esta-llena-coloridos-juegos-arcade_662214-35580.jpg?w=740);background-size:cover;background-position:center;z-index:-1}.custom-card[_ngcontent-%COMP%]{background:#ffffffef;border-radius:15px;box-shadow:0 8px 16px #0003;overflow:hidden;max-width:600px;width:100%;max-height:700px;height:100%;overflow-y:auto;margin-left:350px;margin-top:50px}.custom-card-header[_ngcontent-%COMP%]{background-color:#ff4081;color:#fff;padding:.1rem;text-align:center;font-size:2.5rem;font-family:Poppins,sans-serif}.custom-input[_ngcontent-%COMP%]{width:100%;padding:.25rem;border-radius:8px;border:1px solid #ddd;font-size:1rem;transition:border-color .3s ease}.custom-input[_ngcontent-%COMP%]:focus{border-color:#ff4081;outline:none}.custom-checkbox[_ngcontent-%COMP%]{margin-right:10px}.custom-form-check[_ngcontent-%COMP%]{margin-bottom:.5rem;display:flex;align-items:center}.custom-text-danger[_ngcontent-%COMP%]{color:#e74c3c;font-size:.875rem;margin-top:.25rem}.custom-btn[_ngcontent-%COMP%]{width:100%;background-color:#ff4081;color:#fff;border:none;padding:.75rem;border-radius:8px;font-size:1rem;cursor:pointer;transition:background-color .3s ease;opacity:1}.custom-btn[_ngcontent-%COMP%]:hover{background-color:#e91e63}.custom-btn[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed;opacity:.6}.custom-btn[_ngcontent-%COMP%]:disabled:hover{background-color:#ccc}']})};export{V as EncuestaComponent};
