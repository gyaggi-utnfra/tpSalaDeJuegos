import{a as rn}from"./chunk-7AQS2LSG.js";import{$ as q,Ba as Qt,D as Vi,Fa as Ui,Kb as Y,Ma as m,Qb as nn,Rb as xi,Sa as en,Tb as Wi,Va as le,Wa as C,Y as Li,Yb as Hi,Z as Je,a as v,aa as ce,ac as ji,b as I,ba as Ye,bc as de,cc as R,d as z,da as w,e as c,fa as Fi,fb as tn,ga as Xt,h as Ce,ha as K,k as Ri,ka as Xe,la as E,m as ki,n as Ni,na as Ze,p as qt,q as Kt,r as Jt,ra as Qe,rb as Se,s as Yt,ua as Zt,wa as Te,x as Mi,ya as J,za as ue}from"./chunk-PVR3HKZP.js";var $i=function(t){let e=[],n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},Zs=function(t){let e=[],n=0,i=0;for(;n<t.length;){let r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=t[n++],o=t[n++],a=t[n++],u=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Gi={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){let s=t[r],o=r+1<t.length,a=o?t[r+1]:0,u=r+2<t.length,l=u?t[r+2]:0,h=s>>2,f=(s&3)<<4|a>>4,g=(a&15)<<2|l>>6,O=l&63;u||(O=64,o||(g=64)),i.push(n[h],n[f],n[g],n[O])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($i(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Zs(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){let s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;let l=r<t.length?n[t.charAt(r)]:64;++r;let f=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||l==null||f==null)throw new on;let g=s<<2|a>>4;if(i.push(g),l!==64){let O=a<<4&240|l>>2;if(i.push(O),f!==64){let ae=l<<6&192|f;i.push(ae)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},on=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Qs=function(t){let e=$i(t);return Gi.encodeByteArray(e,!0)},De=function(t){return Qs(t).replace(/\./g,"")},cn=function(t){try{return Gi.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function eo(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var to=()=>eo().__FIREBASE_DEFAULTS__,no=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},io=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&cn(t[1]);return e&&JSON.parse(e)},tt=()=>{try{return to()||no()||io()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},un=t=>{var e,n;return(n=(e=tt())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Nl=t=>{let e=un(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},ln=()=>{var t;return(t=tt())===null||t===void 0?void 0:t.config},dn=t=>{var e;return(e=tt())===null||e===void 0?void 0:e[`_${t}`]};var et=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}};function Ml(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[De(JSON.stringify(n)),De(JSON.stringify(o)),""].join(".")}function _(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zi(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_())}function ro(){var t;let e=(t=tt())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qi(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Ki(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ji(){let t=_();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Vl(){return!ro()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Yi(){try{return typeof indexedDB=="object"}catch{return!1}}function Xi(){return new Promise((t,e)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var so="FirebaseError",b=class t extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=so,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,k.prototype.create)}},k=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){let i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?oo(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new b(r,a,i)}};function oo(t,e){return t.replace(ao,(n,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var ao=/\{\$([^}]+)}/g;function Zi(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function he(t,e){if(t===e)return!0;let n=Object.keys(t),i=Object.keys(e);for(let r of n){if(!i.includes(r))return!1;let s=t[r],o=e[r];if(Bi(s)&&Bi(o)){if(!he(s,o))return!1}else if(s!==o)return!1}for(let r of i)if(!n.includes(r))return!1;return!0}function Bi(t){return t!==null&&typeof t=="object"}function Pe(t){let e=[];for(let[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function fe(t){let e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function pe(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Qi(t,e){let n=new an(t,e);return n.subscribe.bind(n)}var an=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");co(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=sn),r.error===void 0&&(r.error=sn),r.complete===void 0&&(r.complete=sn);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function co(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function sn(){}var Ll=4*60*60*1e3;function N(t){return t&&t._delegate?t._delegate:t}var T=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var X="[DEFAULT]";var hn=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let i=new et;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lo(e))try{this.getOrInitializeService({instanceIdentifier:X})}catch{}for(let[n,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=X){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return c(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=X){return this.instances.has(e)}getOptions(e=X){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;let r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);let o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let i=this.onInitCallbacks.get(n);if(i)for(let r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:uo(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=X){return this.component?this.component.multipleInstances?e:X:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function uo(t){return t===X?void 0:t}function lo(t){return t.instantiationMode==="EAGER"}var nt=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new hn(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var ho=[],p=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(p||{}),fo={debug:p.DEBUG,verbose:p.VERBOSE,info:p.INFO,warn:p.WARN,error:p.ERROR,silent:p.SILENT},po=p.INFO,mo={[p.DEBUG]:"log",[p.VERBOSE]:"log",[p.INFO]:"info",[p.WARN]:"warn",[p.ERROR]:"error"},go=(t,e,...n)=>{if(e<t.logLevel)return;let i=new Date().toISOString(),r=mo[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},me=class{constructor(e){this.name=e,this._logLevel=po,this._logHandler=go,this._userLogHandler=null,ho.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in p))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fo[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,p.DEBUG,...e),this._logHandler(this,p.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,p.VERBOSE,...e),this._logHandler(this,p.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,p.INFO,...e),this._logHandler(this,p.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,p.WARN,...e),this._logHandler(this,p.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,p.ERROR,...e),this._logHandler(this,p.ERROR,...e)}};var _o=(t,e)=>e.some(n=>t instanceof n),er,tr;function vo(){return er||(er=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yo(){return tr||(tr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var nr=new WeakMap,pn=new WeakMap,ir=new WeakMap,fn=new WeakMap,gn=new WeakMap;function Io(t){let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(S(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&nr.set(n,t)}).catch(()=>{}),gn.set(e,t),e}function Eo(t){if(pn.has(t))return;let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});pn.set(t,e)}var mn={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return pn.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ir.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return S(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rr(t){mn=t(mn)}function wo(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let i=t.call(it(this),e,...n);return ir.set(i,e.sort?e.sort():[e]),S(i)}:yo().includes(t)?function(...e){return t.apply(it(this),e),S(nr.get(this))}:function(...e){return S(t.apply(it(this),e))}}function bo(t){return typeof t=="function"?wo(t):(t instanceof IDBTransaction&&Eo(t),_o(t,vo())?new Proxy(t,mn):t)}function S(t){if(t instanceof IDBRequest)return Io(t);if(fn.has(t))return fn.get(t);let e=bo(t);return e!==t&&(fn.set(t,e),gn.set(e,t)),e}var it=t=>gn.get(t);function or(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){let o=indexedDB.open(t,e),a=S(o);return i&&o.addEventListener("upgradeneeded",u=>{i(S(o.result),u.oldVersion,u.newVersion,S(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",l=>r(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var Ao=["get","getKey","getAll","getAllKeys","count"],Co=["put","add","delete","clear"],_n=new Map;function sr(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_n.get(e))return _n.get(e);let n=e.replace(/FromIndex$/,""),i=e!==n,r=Co.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||Ao.includes(n)))return;let s=function(o,...a){return c(this,null,function*(){let u=this.transaction(o,r?"readwrite":"readonly"),l=u.store;return i&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),r&&u.done]))[0]})};return _n.set(e,s),s}rr(t=>I(v({},t),{get:(e,n,i)=>sr(e,n)||t.get(e,n,i),has:(e,n)=>!!sr(e,n)||t.has(e,n)}));var yn=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(To(n)){let i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}};function To(t){let e=t.getComponent();return e?.type==="VERSION"}var In="@firebase/app",ar="0.10.10";var M=new me("@firebase/app"),So="@firebase/app-compat",Do="@firebase/analytics-compat",Po="@firebase/analytics",Oo="@firebase/app-check-compat",Ro="@firebase/app-check",ko="@firebase/auth",No="@firebase/auth-compat",Mo="@firebase/database",Vo="@firebase/database-compat",Lo="@firebase/functions",Fo="@firebase/functions-compat",Uo="@firebase/installations",xo="@firebase/installations-compat",Wo="@firebase/messaging",Ho="@firebase/messaging-compat",jo="@firebase/performance",Bo="@firebase/performance-compat",$o="@firebase/remote-config",Go="@firebase/remote-config-compat",zo="@firebase/storage",qo="@firebase/storage-compat",Ko="@firebase/firestore",Jo="@firebase/vertexai-preview",Yo="@firebase/firestore-compat",Xo="firebase",Zo="10.13.1";var En="[DEFAULT]",Qo={[In]:"fire-core",[So]:"fire-core-compat",[Po]:"fire-analytics",[Do]:"fire-analytics-compat",[Ro]:"fire-app-check",[Oo]:"fire-app-check-compat",[ko]:"fire-auth",[No]:"fire-auth-compat",[Mo]:"fire-rtdb",[Vo]:"fire-rtdb-compat",[Lo]:"fire-fn",[Fo]:"fire-fn-compat",[Uo]:"fire-iid",[xo]:"fire-iid-compat",[Wo]:"fire-fcm",[Ho]:"fire-fcm-compat",[jo]:"fire-perf",[Bo]:"fire-perf-compat",[$o]:"fire-rc",[Go]:"fire-rc-compat",[zo]:"fire-gcs",[qo]:"fire-gcs-compat",[Ko]:"fire-fst",[Yo]:"fire-fst-compat",[Jo]:"fire-vertex","fire-js":"fire-js",[Xo]:"fire-js-all"};var Oe=new Map,ea=new Map,wn=new Map;function cr(t,e){try{t.container.addComponent(e)}catch(n){M.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ge(t){let e=t.name;if(wn.has(e))return M.debug(`There were multiple attempts to register component ${e}.`),!1;wn.set(e,t);for(let n of Oe.values())cr(n,t);for(let n of ea.values())cr(n,t);return!0}function Tn(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function A(t){return t.settings!==void 0}var ta={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},x=new k("app","Firebase",ta);var bn=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new T("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw x.create("app-deleted",{appName:this._name})}};var _e=Zo;function Sn(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let i=Object.assign({name:En,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw x.create("bad-app-name",{appName:String(r)});if(n||(n=ln()),!n)throw x.create("no-options");let s=Oe.get(r);if(s){if(he(n,s.options)&&he(i,s.config))return s;throw x.create("duplicate-app",{appName:r})}let o=new nt(r);for(let u of wn.values())o.addComponent(u);let a=new bn(n,i,o);return Oe.set(r,a),a}function rt(t=En){let e=Oe.get(t);if(!e&&t===En&&ln())return Sn();if(!e)throw x.create("no-app",{appName:t});return e}function st(){return Array.from(Oe.values())}function y(t,e,n){var i;let r=(i=Qo[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);let s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),M.warn(a.join(" "));return}ge(new T(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var na="firebase-heartbeat-database",ia=1,Re="firebase-heartbeat-store",vn=null;function hr(){return vn||(vn=or(na,ia,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Re)}catch(n){console.warn(n)}}}}).catch(t=>{throw x.create("idb-open",{originalErrorMessage:t.message})})),vn}function ra(t){return c(this,null,function*(){try{let n=(yield hr()).transaction(Re),i=yield n.objectStore(Re).get(fr(t));return yield n.done,i}catch(e){if(e instanceof b)M.warn(e.message);else{let n=x.create("idb-get",{originalErrorMessage:e?.message});M.warn(n.message)}}})}function ur(t,e){return c(this,null,function*(){try{let i=(yield hr()).transaction(Re,"readwrite");yield i.objectStore(Re).put(e,fr(t)),yield i.done}catch(n){if(n instanceof b)M.warn(n.message);else{let i=x.create("idb-set",{originalErrorMessage:n?.message});M.warn(i.message)}}})}function fr(t){return`${t.name}!${t.options.appId}`}var sa=1024,oa=30*24*60*60*1e3,An=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Cn(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return c(this,null,function*(){var e,n;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=lr();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=oa}),this._storage.overwrite(this._heartbeatsCache))}catch(i){M.warn(i)}})}getHeartbeatsHeader(){return c(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=lr(),{heartbeatsToSend:i,unsentEntries:r}=aa(this._heartbeatsCache.heartbeats),s=De(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return M.warn(n),""}})}};function lr(){return new Date().toISOString().substring(0,10)}function aa(t,e=sa){let n=[],i=t.slice();for(let r of t){let s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),dr(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),dr(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}var Cn=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return c(this,null,function*(){return Yi()?Xi().then(()=>!0).catch(()=>!1):!1})}read(){return c(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield ra(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return c(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return ur(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return c(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return ur(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function dr(t){return De(JSON.stringify({version:2,heartbeats:t})).length}function ca(t){ge(new T("platform-logger",e=>new yn(e),"PRIVATE")),ge(new T("heartbeat",e=>new An(e),"PRIVATE")),y(In,ar,t),y(In,ar,"esm2017"),y("fire-js","")}ca("");var ua="firebase",la="10.13.1";y(ua,la,"app");var ke=new nn("ANGULARFIRE2_VERSION");function mr(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Pn=(t,e)=>{let n=e?[e]:st(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i},ot=class{constructor(){return Pn(da)}},da="app-check";function ve(){}var at=class{zone;delegate;constructor(e,n=Ni){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,s=function(o){r.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,i)}},Dn=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ve,{},ve,ve)),n.pipe(Li({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ct=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new at(Zone.current)),this.insideAngular=n.run(()=>new at(Zone.current,ki)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(Fi(ue))};static \u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ut(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function ha(t){return ut().ngZone.runOutsideAngular(()=>t())}function Z(t){return ut().ngZone.run(()=>t())}function fa(t){return pa(ut())(t)}function pa(t){return function(n){return n=n.lift(new Dn(t.ngZone)),n.pipe(Jt(t.outsideAngular),Kt(t.insideAngular))}}var ma=(t,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Z(()=>t.apply(void 0,i))},Q=(t,e)=>function(){let n,i=arguments;for(let s=0;s<arguments.length;s++)typeof i[s]=="function"&&(e&&(n||=Z(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ve,{},ve,ve))),i[s]=ma(i[s],n));let r=ha(()=>t.apply(this,i));if(!e)if(r instanceof Ce){let s=ut();return r.pipe(Jt(s.outsideAngular),Kt(s.insideAngular))}else return Z(()=>r);return r instanceof Ce?r.pipe(fa):r instanceof Promise?Z(()=>new Promise((s,o)=>r.then(a=>Z(()=>s(a)),a=>Z(()=>o(a))))):typeof r=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),r.apply(this,arguments)}:Z(()=>r)};var ee=class{constructor(e){return e}},Ne=class{constructor(){return st()}};function ga(t){return t&&t.length===1?t[0]:new ee(rt())}var On=new w("angularfire2._apps"),_a={provide:ee,useFactory:ga,deps:[[new K,On]]},va={provide:Ne,deps:[[new K,On]]};function ya(t){return(e,n)=>{let i=n.get(Ui);y("angularfire",ke.full,"core"),y("angularfire",ke.full,"app"),y("angular",xi.full,i.toString());let r=e.runOutsideAngular(()=>t(n));return new ee(r)}}function wd(t,...e){return Ze([_a,va,{provide:On,useFactory:ya(t),multi:!0,deps:[ue,Te,ct,...e]}])}var bd=Q(Sn,!0);function kr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Nr=kr,Mr=new k("auth","Firebase",kr());var mt=new me("@firebase/auth");function Ia(t,...e){mt.logLevel<=p.WARN&&mt.warn(`Auth (${_e}): ${t}`,...e)}function dt(t,...e){mt.logLevel<=p.ERROR&&mt.error(`Auth (${_e}): ${t}`,...e)}function P(t,...e){throw Qn(t,...e)}function te(t,...e){return Qn(t,...e)}function Vr(t,e,n){let i=Object.assign(Object.assign({},Nr()),{[e]:n});return new k("auth","Firebase",i).create(e,{appName:t.name})}function F(t){return Vr(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qn(t,...e){if(typeof t!="string"){let n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return Mr.create(t,...e)}function d(t,e,...n){if(!t)throw Qn(e,...n)}function V(t){let e="INTERNAL ASSERTION FAILED: "+t;throw dt(e),new Error(e)}function H(t,e){t||V(e)}function Mn(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Ea(){return gr()==="http:"||gr()==="https:"}function gr(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function wa(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ea()||qi()||"connection"in navigator)?navigator.onLine:!0}function ba(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ne=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,H(n>e,"Short delay should be less than long delay!"),this.isMobile=zi()||Ki()}get(){return wa()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function ei(t,e){H(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var gt=class{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;V("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;V("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;V("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Aa={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Ca=new ne(3e4,6e4);function j(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function B(s,o,a,u){return c(this,arguments,function*(t,e,n,i,r={}){return Lr(t,r,()=>c(this,null,function*(){let l={},h={};i&&(e==="GET"?h=i:l={body:JSON.stringify(i)});let f=Pe(Object.assign({key:t.config.apiKey},h)).slice(1),g=yield t._getAdditionalHeaders();return g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode),gt.fetch()(Fr(t,t.config.apiHost,n,f),Object.assign({method:e,headers:g,referrerPolicy:"no-referrer"},l))}))})}function Lr(t,e,n){return c(this,null,function*(){t._canInitEmulator=!1;let i=Object.assign(Object.assign({},Aa),e);try{let r=new Vn(t),s=yield Promise.race([n(),r.promise]);r.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw lt(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw lt(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw lt(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw lt(t,"user-disabled",o);let h=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Vr(t,h,l);P(t,h)}}catch(r){if(r instanceof b)throw r;P(t,"network-request-failed",{message:String(r)})}})}function He(s,o,a,u){return c(this,arguments,function*(t,e,n,i,r={}){let l=yield B(t,e,n,i,r);return"mfaPendingCredential"in l&&P(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function Fr(t,e,n,i){let r=`${e}${n}?${i}`;return t.config.emulator?ei(t.config,r):`${t.config.apiScheme}://${r}`}function Ta(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Vn=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(te(this.auth,"network-request-failed")),Ca.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function lt(t,e,n){let i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);let r=te(t,e,i);return r.customData._tokenResponse=n,r}function _r(t){return t!==void 0&&t.enterprise!==void 0}var Ln=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Ta(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function Sa(t,e){return c(this,null,function*(){return B(t,"GET","/v2/recaptchaConfig",j(t,e))})}function Da(t,e){return c(this,null,function*(){return B(t,"POST","/v1/accounts:delete",e)})}function Ur(t,e){return c(this,null,function*(){return B(t,"POST","/v1/accounts:lookup",e)})}function Me(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ti(t,e=!1){return c(this,null,function*(){let n=N(t),i=yield n.getIdToken(e),r=ni(i);d(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:Me(Rn(r.auth_time)),issuedAtTime:Me(Rn(r.iat)),expirationTime:Me(Rn(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Rn(t){return Number(t)*1e3}function ni(t){let[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return dt("JWT malformed, contained fewer than 3 sections"),null;try{let r=cn(n);return r?JSON.parse(r):(dt("Failed to decode base64 JWT payload"),null)}catch(r){return dt("Caught error parsing JWT payload as JSON",r?.toString()),null}}function vr(t){let e=ni(t);return d(e,"internal-error"),d(typeof e.exp<"u","internal-error"),d(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Le(t,e,n=!1){return c(this,null,function*(){if(n)return e;try{return yield e}catch(i){throw i instanceof b&&Pa(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}})}function Pa({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Fn=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>c(this,null,function*(){yield this.iteration()}),n)}iteration(){return c(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Fe=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Me(this.lastLoginAt),this.creationTime=Me(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function _t(t){return c(this,null,function*(){var e;let n=t.auth,i=yield t.getIdToken(),r=yield Le(t,Ur(n,{idToken:i}));d(r?.users.length,n,"internal-error");let s=r.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?xr(s.providerUserInfo):[],a=Oa(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,h=u?l:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Fe(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,f)})}function ii(t){return c(this,null,function*(){let e=N(t);yield _t(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Oa(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function xr(t){return t.map(e=>{var{providerId:n}=e,i=qt(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function Ra(t,e){return c(this,null,function*(){let n=yield Lr(t,{},()=>c(this,null,function*(){let i=Pe({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=Fr(t,r,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",gt.fetch()(o,{method:"POST",headers:a,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function ka(t,e){return c(this,null,function*(){return B(t,"POST","/v2/accounts:revokeToken",j(t,e))})}var Ve=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){d(e.idToken,"internal-error"),d(typeof e.idToken<"u","internal-error"),d(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vr(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){d(e.length!==0,"internal-error");let n=vr(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return c(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(d(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return c(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:s}=yield Ra(e,n);this.updateTokensAndExpiration(i,r,Number(s))})}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){let{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new t;return i&&(d(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(d(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(d(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return V("not implemented")}};function W(t,e){d(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var ye=class t{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=qt(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Fn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Fe(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return c(this,null,function*(){let n=yield Le(this,this.stsTokenManager.getToken(this.auth,e));return d(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return ti(this,e)}reload(){return ii(this)}_assign(e){this!==e&&(d(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){d(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return c(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield _t(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return c(this,null,function*(){if(A(this.auth.app))return Promise.reject(F(this.auth));let e=yield this.getIdToken();return yield Le(this,Da(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,a,u,l,h;let f=(i=n.displayName)!==null&&i!==void 0?i:void 0,g=(r=n.email)!==null&&r!==void 0?r:void 0,O=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,ae=(o=n.photoURL)!==null&&o!==void 0?o:void 0,Ci=(a=n.tenantId)!==null&&a!==void 0?a:void 0,Bt=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,Ti=(l=n.createdAt)!==null&&l!==void 0?l:void 0,Si=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:$t,emailVerified:Di,isAnonymous:Pi,providerData:Gt,stsTokenManager:Oi}=n;d($t&&Oi,e,"internal-error");let Ys=Ve.fromJSON(this.name,Oi);d(typeof $t=="string",e,"internal-error"),W(f,e.name),W(g,e.name),d(typeof Di=="boolean",e,"internal-error"),d(typeof Pi=="boolean",e,"internal-error"),W(O,e.name),W(ae,e.name),W(Ci,e.name),W(Bt,e.name),W(Ti,e.name),W(Si,e.name);let zt=new t({uid:$t,auth:e,email:g,emailVerified:Di,displayName:f,isAnonymous:Pi,photoURL:ae,phoneNumber:O,tenantId:Ci,stsTokenManager:Ys,createdAt:Ti,lastLoginAt:Si});return Gt&&Array.isArray(Gt)&&(zt.providerData=Gt.map(Xs=>Object.assign({},Xs))),Bt&&(zt._redirectEventId=Bt),zt}static _fromIdTokenResponse(e,n,i=!1){return c(this,null,function*(){let r=new Ve;r.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield _t(s),s})}static _fromGetAccountInfoResponse(e,n,i){return c(this,null,function*(){let r=n.users[0];d(r.localId!==void 0,"internal-error");let s=r.providerUserInfo!==void 0?xr(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,a=new Ve;a.updateFromIdToken(i);let u=new t({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Fe(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var yr=new Map;function L(t){H(t instanceof Function,"Expected a class definition");let e=yr.get(t);return e?(H(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,yr.set(t,e),e)}var Na=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return c(this,null,function*(){return!0})}_set(n,i){return c(this,null,function*(){this.storage[n]=i})}_get(n){return c(this,null,function*(){let i=this.storage[n];return i===void 0?null:i})}_remove(n){return c(this,null,function*(){delete this.storage[n]})}_addListener(n,i){}_removeListener(n,i){}}return t.type="NONE",t})(),Un=Na;function ht(t,e,n){return`firebase:${t}:${e}:${n}`}var vt=class t{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;let{config:r,name:s}=this.auth;this.fullUserKey=ht(this.userKey,r.apiKey,s),this.fullPersistenceKey=ht("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return c(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ye._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return c(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,i="authUser"){return c(this,null,function*(){if(!n.length)return new t(L(Un),e,i);let r=(yield Promise.all(n.map(l=>c(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=r[0]||L(Un),o=ht(i,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(o);if(h){let f=ye._fromJSON(e,h);l!==s&&(a=f),s=l;break}}catch{}let u=r.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,i):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>c(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,i))})}};function Ir(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Br(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Wr(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Gr(e))return"Blackberry";if(zr(e))return"Webos";if(Hr(e))return"Safari";if((e.includes("chrome/")||jr(e))&&!e.includes("edge/"))return"Chrome";if($r(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function Wr(t=_()){return/firefox\//i.test(t)}function Hr(t=_()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jr(t=_()){return/crios\//i.test(t)}function Br(t=_()){return/iemobile/i.test(t)}function $r(t=_()){return/android/i.test(t)}function Gr(t=_()){return/blackberry/i.test(t)}function zr(t=_()){return/webos/i.test(t)}function ri(t=_()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Ma(t=_()){var e;return ri(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Va(){return Ji()&&document.documentMode===10}function qr(t=_()){return ri(t)||$r(t)||zr(t)||Gr(t)||/windows phone/i.test(t)||Br(t)}function Kr(t,e=[]){let n;switch(t){case"Browser":n=Ir(_());break;case"Worker":n=`${Ir(_())}-${t}`;break;default:n=t}let i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_e}/${i}`}var xn=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let i=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});i.onAbort=n,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return c(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let i of this.queue)yield i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(let r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function La(n){return c(this,arguments,function*(t,e={}){return B(t,"GET","/v2/passwordPolicy",j(t,e))})}var Fa=6,Wn=class{constructor(e){var n,i,r,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Fa,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(r=u.containsLowercaseLetter)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Hn=class{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yt(this),this.idTokenSubscription=new yt(this),this.beforeStateQueue=new xn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=L(n)),this._initializationPromise=this.queue(()=>c(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield vt.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return c(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return c(this,null,function*(){try{let n=yield Ur(this,{idToken:e}),i=yield ye._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return c(this,null,function*(){var n;if(A(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(r=u.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return d(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return c(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return c(this,null,function*(){try{yield _t(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=ba()}_delete(){return c(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return c(this,null,function*(){if(A(this.app))return Promise.reject(F(this));let n=e?N(e):null;return n&&d(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return c(this,null,function*(){if(!this._deleted)return e&&d(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>c(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return c(this,null,function*(){return A(this.app)?Promise.reject(F(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return A(this.app)?Promise.reject(F(this)):this.queue(()=>c(this,null,function*(){yield this.assertedPersistence.setPersistence(L(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return c(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return c(this,null,function*(){let e=yield La(this),n=new Wn(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new k("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},n)}})}revokeAccessToken(e){return c(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),yield ka(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return c(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return c(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&L(e)||this._popupRedirectResolver;d(n,this,"argument-error"),this.redirectPersistenceManager=yield vt.create(this,[L(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return c(this,null,function*(){var n,i;return this._isInitialized&&(yield this.queue(()=>c(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return c(this,null,function*(){if(e===this.currentUser)return this.queue(()=>c(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(d(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,i,r);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return c(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return d(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Kr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return c(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n})}_getAppCheckToken(){return c(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&Ia(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function re(t){return N(t)}var yt=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Qi(n=>this.observer=n)}get next(){return d(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Tt={loadJS(){return c(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ua(t){Tt=t}function Jr(t){return Tt.loadJS(t)}function xa(){return Tt.recaptchaEnterpriseScript}function Wa(){return Tt.gapiScript}function Yr(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var Ha="recaptcha-enterprise",ja="NO_RECAPTCHA",jn=class{constructor(e){this.type=Ha,this.auth=re(e)}verify(e="verify",n=!1){return c(this,null,function*(){function i(s){return c(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>c(this,null,function*(){Sa(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Ln(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{a(u)})}))})}function r(s,o,a){let u=window.grecaptcha;_r(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(ja)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{i(this.auth).then(a=>{if(!n&&_r(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=xa();u.length!==0&&(u+=a),Jr(u).then(()=>{r(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function Er(t,e,n,i=!1){return c(this,null,function*(){let r=new jn(t),s;try{s=yield r.verify(n)}catch{s=yield r.verify(n,!0)}let o=Object.assign({},e);return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function Bn(t,e,n,i){return c(this,null,function*(){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield Er(t,e,n,n==="getOobCode");return i(t,s)}else return i(t,e).catch(s=>c(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield Er(t,e,n,n==="getOobCode");return i(t,o)}else return Promise.reject(s)}))})}function si(t,e){let n=Tn(t,"auth");if(n.isInitialized()){let r=n.getImmediate(),s=n.getOptions();if(he(s,e??{}))return r;P(r,"already-initialized")}return n.initialize({options:e})}function Ba(t,e){let n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(L);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function oi(t,e,n){let i=re(t);d(i._canInitEmulator,i,"emulator-config-failed"),d(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!n?.disableWarnings,s=Xr(e),{host:o,port:a}=$a(e),u=a===null?"":`:${a}`;i.config.emulator={url:`${s}//${o}${u}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||Ga()}function Xr(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $a(t){let e=Xr(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let s=r[1];return{host:s,port:wr(i.substr(s.length+1))}}else{let[s,o]=i.split(":");return{host:s,port:wr(o)}}}function wr(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function Ga(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Ue=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return V("not implemented")}_getIdTokenResponse(e){return V("not implemented")}_linkToIdToken(e,n){return V("not implemented")}_getReauthenticationResolver(e){return V("not implemented")}};function za(t,e){return c(this,null,function*(){return B(t,"POST","/v1/accounts:signUp",e)})}function qa(t,e){return c(this,null,function*(){return He(t,"POST","/v1/accounts:signInWithPassword",j(t,e))})}function Ka(t,e){return c(this,null,function*(){return He(t,"POST","/v1/accounts:signInWithEmailLink",j(t,e))})}function Ja(t,e){return c(this,null,function*(){return He(t,"POST","/v1/accounts:signInWithEmailLink",j(t,e))})}var xe=class t extends Ue{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new t(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return c(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bn(e,n,"signInWithPassword",qa);case"emailLink":return Ka(e,{email:this._email,oobCode:this._password});default:P(e,"internal-error")}})}_linkToIdToken(e,n){return c(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bn(e,i,"signUpPassword",za);case"emailLink":return Ja(e,{idToken:n,email:this._email,oobCode:this._password});default:P(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function kn(t,e){return c(this,null,function*(){return He(t,"POST","/v1/accounts:signInWithIdp",j(t,e))})}function Ya(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Xa(t){let e=fe(pe(t)).link,n=e?fe(pe(e)).deep_link_id:null,i=fe(pe(t)).deep_link_id;return(i?fe(pe(i)).link:null)||i||n||e||t}var It=class t{constructor(e){var n,i,r,s,o,a;let u=fe(pe(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(i=u.oobCode)!==null&&i!==void 0?i:null,f=Ya((r=u.mode)!==null&&r!==void 0?r:null);d(l&&h&&f,"argument-error"),this.apiKey=l,this.operation=f,this.code=h,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=Xa(e);try{return new t(n)}catch{return null}}};var Zr=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,i){return xe._fromEmailAndPassword(n,i)}static credentialWithLink(n,i){let r=It.parseLink(i);return d(r,"argument-error"),xe._fromEmailAndCode(n,r.code,r.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Et=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var $n=class extends Et{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function Za(t,e){return c(this,null,function*(){return He(t,"POST","/v1/accounts:signUp",j(t,e))})}var Ie=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,i,r=!1){return c(this,null,function*(){let s=yield ye._fromIdTokenResponse(e,i,r),o=br(i);return new t({user:s,providerId:o,_tokenResponse:i,operationType:n})})}static _forOperation(e,n,i){return c(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=br(i);return new t({user:e,providerId:r,_tokenResponse:i,operationType:n})})}};function br(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Gn=class t extends b{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new t(e,n,i,r)}};function Qr(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Gn._fromErrorAndOperation(t,s,e,i):s})}function Qa(t,e,n=!1){return c(this,null,function*(){let i=yield Le(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ie._forOperation(t,"link",i)})}function ec(t,e,n=!1){return c(this,null,function*(){let{auth:i}=t;if(A(i.app))return Promise.reject(F(i));let r="reauthenticate";try{let s=yield Le(t,Qr(i,r,e,t),n);d(s.idToken,i,"internal-error");let o=ni(s.idToken);d(o,i,"internal-error");let{sub:a}=o;return d(t.uid===a,i,"user-mismatch"),Ie._forOperation(t,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&P(i,"user-mismatch"),s}})}function es(t,e,n=!1){return c(this,null,function*(){if(A(t.app))return Promise.reject(F(t));let i="signIn",r=yield Qr(t,i,e),s=yield Ie._fromIdTokenResponse(t,i,r);return n||(yield t._updateCurrentUser(s.user)),s})}function ai(t,e){return c(this,null,function*(){return es(re(t),e)})}function ts(t){return c(this,null,function*(){let e=re(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function ci(t,e,n){return c(this,null,function*(){if(A(t.app))return Promise.reject(F(t));let i=re(t),o=yield Bn(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Za).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&ts(t),u}),a=yield Ie._fromIdTokenResponse(i,"signIn",o);return yield i._updateCurrentUser(a.user),a})}function ui(t,e,n){return A(t.app)?Promise.reject(F(t)):ai(N(t),Zr.credential(e,n)).catch(i=>c(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&ts(t),i}))}function St(t,e,n,i){return N(t).onIdTokenChanged(e,n,i)}function li(t,e,n){return N(t).beforeAuthStateChanged(e,n)}function Dt(t,e,n,i){return N(t).onAuthStateChanged(e,n,i)}var wt="__sak";var bt=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wt,"1"),this.storage.removeItem(wt),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var tc=1e3,nc=10,ic=(()=>{class t extends bt{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,i)=>this.onStorageEvent(n,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qr(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),s=this.localCache[i];r!==s&&n(i,s,r)}}onStorageEvent(n,i=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let r=n.key;i?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);Va()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,nc):s()}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let s of Array.from(r))s(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:i,newValue:r}),!0)})},tc)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,i){return c(this,null,function*(){yield z(t.prototype,this,"_set").call(this,n,i),this.localCache[n]=JSON.stringify(i)})}_get(n){return c(this,null,function*(){let i=yield z(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(i),i})}_remove(n){return c(this,null,function*(){yield z(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),ns=ic;var rc=(()=>{class t extends bt{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,i){}_removeListener(n,i){}}return t.type="SESSION",t})(),di=rc;function sc(t){return Promise.all(t.map(e=>c(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var oc=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let i=this.receivers.find(s=>s.isListeningto(n));if(i)return i;let r=new t(n);return this.receivers.push(r),r}isListeningto(n){return this.eventTarget===n}handleEvent(n){return c(this,null,function*(){let i=n,{eventId:r,eventType:s,data:o}=i.data,a=this.handlersMap[s];if(!a?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:s});let u=Array.from(a).map(h=>c(this,null,function*(){return h(i.origin,o)})),l=yield sc(u);i.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})})}_subscribe(n,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(i)}_unsubscribe(n,i){this.handlersMap[n]&&i&&this.handlersMap[n].delete(i),(!i||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function is(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}var zn=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,i=50){return c(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let l=is("",20);r.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(f){let g=f;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(g.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function D(){return window}function ac(t){D().location.href=t}function rs(){return typeof D().WorkerGlobalScope<"u"&&typeof D().importScripts=="function"}function cc(){return c(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function uc(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function lc(){return rs()?self:null}var ss="firebaseLocalStorageDb",dc=1,At="firebaseLocalStorage",os="fbase_key",ie=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Pt(t,e){return t.transaction([At],e?"readwrite":"readonly").objectStore(At)}function hc(){let t=indexedDB.deleteDatabase(ss);return new ie(t).toPromise()}function qn(){let t=indexedDB.open(ss,dc);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let i=t.result;try{i.createObjectStore(At,{keyPath:os})}catch(r){n(r)}}),t.addEventListener("success",()=>c(this,null,function*(){let i=t.result;i.objectStoreNames.contains(At)?e(i):(i.close(),yield hc(),e(yield qn()))}))})}function Ar(t,e,n){return c(this,null,function*(){let i=Pt(t,!0).put({[os]:e,value:n});return new ie(i).toPromise()})}function fc(t,e){return c(this,null,function*(){let n=Pt(t,!1).get(e),i=yield new ie(n).toPromise();return i===void 0?null:i.value})}function Cr(t,e){let n=Pt(t,!0).delete(e);return new ie(n).toPromise()}var pc=800,mc=3,gc=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return c(this,null,function*(){return this.db?this.db:(this.db=yield qn(),this.db)})}_withRetries(n){return c(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield n(r)}catch(r){if(i++>mc)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return c(this,null,function*(){return rs()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return c(this,null,function*(){this.receiver=oc._getInstance(lc()),this.receiver._subscribe("keyChanged",(n,i)=>c(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(n,i)=>c(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return c(this,null,function*(){var n,i;if(this.activeServiceWorker=yield cc(),!this.activeServiceWorker)return;this.sender=new zn(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((n=r[0])===null||n===void 0)&&n.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return c(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||uc()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return c(this,null,function*(){try{if(!indexedDB)return!1;let n=yield qn();return yield Ar(n,wt,"1"),yield Cr(n,wt),!0}catch{}return!1})}_withPendingWrite(n){return c(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,i){return c(this,null,function*(){return this._withPendingWrite(()=>c(this,null,function*(){return yield this._withRetries(r=>Ar(r,n,i)),this.localCache[n]=i,this.notifyServiceWorker(n)}))})}_get(n){return c(this,null,function*(){let i=yield this._withRetries(r=>fc(r,n));return this.localCache[n]=i,i})}_remove(n){return c(this,null,function*(){return this._withPendingWrite(()=>c(this,null,function*(){return yield this._withRetries(i=>Cr(i,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return c(this,null,function*(){let n=yield this._withRetries(s=>{let o=Pt(s,!1).getAll();return new ie(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),i.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),i.push(s));return i})}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let s of Array.from(r))s(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>c(this,null,function*(){return this._poll()}),pc)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),as=gc;var Rd=Yr("rcb"),kd=new ne(3e4,6e4);function _c(t,e){return e?L(e):(d(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var We=class extends Ue{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return kn(e,this._buildIdpRequest())}_linkToIdToken(e,n){return kn(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return kn(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function vc(t){return es(t.auth,new We(t),t.bypassAuthState)}function yc(t){let{auth:e,user:n}=t;return d(n,e,"internal-error"),ec(n,new We(t),t.bypassAuthState)}function Ic(t){return c(this,null,function*(){let{auth:e,user:n}=t;return d(n,e,"internal-error"),Qa(n,new We(t),t.bypassAuthState)})}var Kn=class{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>c(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return c(this,null,function*(){let{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vc;case"linkViaPopup":case"linkViaRedirect":return Ic;case"reauthViaPopup":case"reauthViaRedirect":return yc;default:P(this.auth,"internal-error")}}resolve(e){H(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){H(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Nd=new ne(2e3,1e4);var Ec="pendingRedirect",ft=new Map,Jn=class t extends Kn{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}execute(){return c(this,null,function*(){let e=ft.get(this.auth._key());if(!e){try{let i=(yield wc(this.resolver,this.auth))?yield z(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}ft.set(this.auth._key(),e)}return this.bypassAuthState||ft.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return c(this,null,function*(){if(e.type==="signInViaRedirect")return z(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,z(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return c(this,null,function*(){})}cleanUp(){}};function wc(t,e){return c(this,null,function*(){let n=Cc(e),i=Ac(t);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(n))==="true";return yield i._remove(n),r})}function bc(t,e){ft.set(t._key(),e)}function Ac(t){return L(t._redirectPersistence)}function Cc(t){return ht(Ec,t.config.apiKey,t.name)}function Tc(t,e,n=!1){return c(this,null,function*(){if(A(t.app))return Promise.reject(F(t));let i=re(t),r=_c(i,e),o=yield new Jn(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield i._persistUserIfCurrent(o.user),yield i._setRedirectUser(null,e)),o})}var Sc=10*60*1e3,Yn=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Dc(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!cs(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(te(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Sc&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tr(e))}saveEventToCache(e){this.cachedEventUids.add(Tr(e)),this.lastProcessedEventTime=Date.now()}};function Tr(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function cs({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Dc(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cs(t);default:return!1}}function Pc(n){return c(this,arguments,function*(t,e={}){return B(t,"GET","/v1/projects",e)})}var Oc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Rc=/^https?/;function kc(t){return c(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield Pc(t);for(let n of e)try{if(Nc(n))return}catch{}P(t,"unauthorized-domain")})}function Nc(t){let e=Mn(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!Rc.test(n))return!1;if(Oc.test(t))return i===t;let r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var Mc=new ne(3e4,6e4);function Sr(){let t=D().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Vc(t){return new Promise((e,n)=>{var i,r,s;function o(){Sr(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Sr(),n(te(t,"network-request-failed"))},timeout:Mc.get()})}if(!((r=(i=D().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=D().gapi)===null||s===void 0)&&s.load)o();else{let a=Yr("iframefcb");return D()[a]=()=>{gapi.load?o():n(te(t,"network-request-failed"))},Jr(`${Wa()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw pt=null,e})}var pt=null;function Lc(t){return pt=pt||Vc(t),pt}var Fc=new ne(5e3,15e3),Uc="__/auth/iframe",xc="emulator/auth/iframe",Wc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jc(t){let e=t.config;d(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?ei(e,xc):`https://${t.config.authDomain}/${Uc}`,i={apiKey:e.apiKey,appName:t.name,v:_e},r=Hc.get(t.config.apiHost);r&&(i.eid=r);let s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${Pe(i).slice(1)}`}function Bc(t){return c(this,null,function*(){let e=yield Lc(t),n=D().gapi;return d(n,t,"internal-error"),e.open({where:document.body,url:jc(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wc,dontclear:!0},i=>new Promise((r,s)=>c(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let o=te(t,"network-request-failed"),a=D().setTimeout(()=>{s(o)},Fc.get());function u(){D().clearTimeout(a),r(i)}i.ping(u).then(u,()=>{s(o)})})))})}var $c={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Gc=500,zc=600,qc="_blank",Kc="http://localhost",Ct=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Jc(t,e,n,i=Gc,r=zc){let s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString(),a="",u=Object.assign(Object.assign({},$c),{width:i.toString(),height:r.toString(),top:s,left:o}),l=_().toLowerCase();n&&(a=jr(l)?qc:n),Wr(l)&&(e=e||Kc,u.scrollbars="yes");let h=Object.entries(u).reduce((g,[O,ae])=>`${g}${O}=${ae},`,"");if(Ma(l)&&a!=="_self")return Yc(e||"",a),new Ct(null);let f=window.open(e||"",a,h);d(f,t,"popup-blocked");try{f.focus()}catch{}return new Ct(f)}function Yc(t,e){let n=document.createElement("a");n.href=t,n.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}var Xc="__/auth/handler",Zc="emulator/auth/handler",Qc=encodeURIComponent("fac");function Dr(t,e,n,i,r,s){return c(this,null,function*(){d(t.config.authDomain,t,"auth-domain-config-required"),d(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:_e,eventId:r};if(e instanceof Et){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Zi(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,f]of Object.entries(s||{}))o[h]=f}if(e instanceof $n){let h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${Qc}=${encodeURIComponent(u)}`:"";return`${eu(t)}?${Pe(a).slice(1)}${l}`})}function eu({config:t}){return t.emulator?ei(t,Zc):`https://${t.authDomain}/${Xc}`}var Nn="webStorageSupport",Xn=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=di,this._completeRedirectFn=Tc,this._overrideRedirectResult=bc}_openPopup(e,n,i,r){return c(this,null,function*(){var s;H((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield Dr(e,n,i,Mn(),r);return Jc(e,o,is())})}_openRedirect(e,n,i,r){return c(this,null,function*(){yield this._originValidation(e);let s=yield Dr(e,n,i,Mn(),r);return ac(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(H(s,"If manager is not set, promise should be"),s)}let i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}initAndGetManager(e){return c(this,null,function*(){let n=yield Bc(e),i=new Yn(e);return n.register("authEvent",r=>(d(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Nn,{type:Nn},r=>{var s;let o=(s=r?.[0])===null||s===void 0?void 0:s[Nn];o!==void 0&&n(!!o),P(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kc(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return qr()||Hr()||ri()}},us=Xn;var Pr="@firebase/auth",Or="1.7.8";var Zn=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return c(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){d(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function tu(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nu(t){ge(new T("auth",(e,{options:n})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;d(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Kr(t)},l=new Hn(i,r,s,u);return Ba(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),ge(new T("auth-internal",e=>{let n=re(e.getProvider("auth").getImmediate());return(i=>new Zn(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),y(Pr,Or,tu(t)),y(Pr,Or,"esm2017")}var iu=5*60,ru=dn("authIdTokenMaxAge")||iu,Rr=null,su=t=>e=>c(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>ru)return;let r=n?.token;Rr!==r&&(Rr=r,yield fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function hi(t=rt()){let e=Tn(t,"auth");if(e.isInitialized())return e.getImmediate();let n=si(t,{popupRedirectResolver:us,persistence:[as,ns,di]}),i=dn("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(i,location.origin);if(location.origin===s.origin){let o=su(s.toString());li(n,o,()=>o(n.currentUser)),St(n,a=>o(a))}}let r=un("auth");return r&&oi(n,`http://${r}`),n}function ou(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Ua({loadJS(t){return new Promise((e,n)=>{let i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{let s=te("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",ou().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nu("Browser");function ds(t){return new Ce(function(e){var n=Dt(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var hs="auth",se=class{constructor(e){return e}},fi=class{constructor(){return Pn(hs)}};var pi=new w("angularfire2.auth-instances");function Ju(t,e){let n=mr(hs,t,e);return n&&new se(n)}function Yu(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new se(i)}}var Xu={provide:fi,deps:[[new K,pi]]},Zu={provide:se,useFactory:Ju,deps:[[new K,pi],ee]};function bh(t,...e){return y("angularfire",ke.full,"auth"),Ze([Zu,Xu,{provide:pi,useFactory:Yu(t),multi:!0,deps:[ue,Te,ct,Ne,[new K,ot],...e]}])}var fs=Q(ds,!0);var ps=Q(ci,!0);var Ah=Q(hi,!0);var ms=Q(ui,!0);var Cs=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(m(en),m(Qt))},e.\u0275dir=E({type:e});let t=e;return t})(),Ts=(()=>{let e=class e extends Cs{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Zt(e)))(s||e)}})(),e.\u0275dir=E({type:e,features:[C]});let t=e;return t})(),Ut=new w("");var Qu={provide:Ut,useExisting:q(()=>Ss),multi:!0};function el(){let t=rn()?rn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var tl=new w(""),Ss=(()=>{let e=class e extends Cs{constructor(i,r,s){super(i,r),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!el())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(m(en),m(Qt),m(tl,8))},e.\u0275dir=E({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){r&1&&Se("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[Y([Qu]),C]});let t=e;return t})();function $(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function Ds(t){return t!=null&&typeof t.length=="number"}var xt=new w(""),Wt=new w(""),nl=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,gs=class{static min(e){return il(e)}static max(e){return rl(e)}static required(e){return sl(e)}static requiredTrue(e){return ol(e)}static email(e){return al(e)}static minLength(e){return cl(e)}static maxLength(e){return ul(e)}static pattern(e){return ll(e)}static nullValidator(e){return Ps(e)}static compose(e){return Vs(e)}static composeAsync(e){return Ls(e)}};function il(t){return e=>{if($(e.value)||$(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function rl(t){return e=>{if($(e.value)||$(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function sl(t){return $(t.value)?{required:!0}:null}function ol(t){return t.value===!0?null:{required:!0}}function al(t){return $(t.value)||nl.test(t.value)?null:{email:!0}}function cl(t){return e=>$(e.value)||!Ds(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function ul(t){return e=>Ds(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function ll(t){if(!t)return Ps;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),i=>{if($(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function Ps(t){return null}function Os(t){return t!=null}function Rs(t){return Wi(t)?Yt(t):t}function ks(t){let e={};return t.forEach(n=>{e=n!=null?v(v({},e),n):e}),Object.keys(e).length===0?null:e}function Ns(t,e){return e.map(n=>n(t))}function dl(t){return!t.validate}function Ms(t){return t.map(e=>dl(e)?e:n=>e.validate(n))}function Vs(t){if(!t)return null;let e=t.filter(Os);return e.length==0?null:function(n){return ks(Ns(n,e))}}function Ii(t){return t!=null?Vs(Ms(t)):null}function Ls(t){if(!t)return null;let e=t.filter(Os);return e.length==0?null:function(n){let i=Ns(n,e).map(Rs);return Vi(i).pipe(Mi(ks))}}function Ei(t){return t!=null?Ls(Ms(t)):null}function _s(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Fs(t){return t._rawValidators}function Us(t){return t._rawAsyncValidators}function mi(t){return t?Array.isArray(t)?t:[t]:[]}function Rt(t,e){return Array.isArray(t)?t.includes(e):t===e}function vs(t,e){let n=mi(e);return mi(t).forEach(r=>{Rt(n,r)||n.push(r)}),n}function ys(t,e){return mi(e).filter(n=>!Rt(t,n))}var kt=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ii(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ei(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},U=class extends kt{get formDirective(){return null}get path(){return null}},oe=class extends kt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Nt=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},hl={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Bh=I(v({},hl),{"[class.ng-submitted]":"isSubmitted"}),$h=(()=>{let e=class e extends Nt{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(m(oe,2))},e.\u0275dir=E({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){r&2&&tn("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[C]});let t=e;return t})(),Gh=(()=>{let e=class e extends Nt{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(m(U,10))},e.\u0275dir=E({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){r&2&&tn("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[C]});let t=e;return t})();var je="VALID",Ot="INVALID",Ee="PENDING",Be="DISABLED",G=class{},Mt=class extends G{constructor(e,n){super(),this.value=e,this.source=n}},Ge=class extends G{constructor(e,n){super(),this.pristine=e,this.source=n}},ze=class extends G{constructor(e,n){super(),this.touched=e,this.source=n}},we=class extends G{constructor(e,n){super(),this.status=e,this.source=n}},gi=class extends G{constructor(e){super(),this.source=e}},_i=class extends G{constructor(e){super(),this.source=e}};function wi(t){return(Ht(t)?t.validators:t)||null}function fl(t){return Array.isArray(t)?Ii(t):t||null}function bi(t,e){return(Ht(e)?e.asyncValidators:t)||null}function pl(t){return Array.isArray(t)?Ei(t):t||null}function Ht(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function xs(t,e,n){let i=t.controls;if(!(e?Object.keys(i):i).length)throw new Je(1e3,"");if(!i[n])throw new Je(1001,"")}function Ws(t,e,n){t._forEachChild((i,r)=>{if(n[r]===void 0)throw new Je(1002,"")})}var be=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=de(()=>this.statusReactive()),this.statusReactive=le(void 0),this._pristine=de(()=>this.pristineReactive()),this.pristineReactive=le(!0),this._touched=de(()=>this.touchedReactive()),this.touchedReactive=le(!1),this._events=new Ri,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return R(this.statusReactive)}set status(e){R(()=>this.statusReactive.set(e))}get valid(){return this.status===je}get invalid(){return this.status===Ot}get pending(){return this.status==Ee}get disabled(){return this.status===Be}get enabled(){return this.status!==Be}get pristine(){return R(this.pristineReactive)}set pristine(e){R(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return R(this.touchedReactive)}set touched(e){R(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(vs(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(vs(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ys(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ys(e,this._rawAsyncValidators))}hasValidator(e){return Rt(this._rawValidators,e)}hasAsyncValidator(e){return Rt(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(I(v({},e),{sourceControl:i})),n&&e.emitEvent!==!1&&this._events.next(new ze(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),n&&e.emitEvent!==!1&&this._events.next(new ze(!1,i))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(I(v({},e),{sourceControl:i})),n&&e.emitEvent!==!1&&this._events.next(new Ge(!1,i))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),n&&e.emitEvent!==!1&&this._events.next(new Ge(!0,i))}markAsPending(e={}){this.status=Ee;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new we(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(I(v({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Be,this.errors=null,this._forEachChild(r=>{r.disable(I(v({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Mt(this.value,i)),this._events.next(new we(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(I(v({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=je,this._forEachChild(i=>{i.enable(I(v({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(I(v({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===je||this.status===Ee)&&this._runAsyncValidator(i,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Mt(this.value,n)),this._events.next(new we(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(I(v({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Be:je}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Ee,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let i=Rs(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new we(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,i)}_initObservables(){this.valueChanges=new J,this.statusChanges=new J}_calculateStatus(){return this._allControlsDisabled()?Be:this.errors?Ot:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ee)?Ee:this._anyControlsHaveStatus(Ot)?Ot:je}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),r&&this._events.next(new Ge(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new ze(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ht(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=fl(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=pl(this._rawAsyncValidators)}},Ae=class extends be{constructor(e,n,i){super(wi(n),bi(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Ws(this,!0,e),Object.keys(e).forEach(i=>{xs(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((r,s)=>{i=n(i,r,s)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var vi=class extends Ae{};var Ke=new w("CallSetDisabledState",{providedIn:"root",factory:()=>jt}),jt="always";function Hs(t,e){return[...e.path,t]}function Vt(t,e,n=jt){Ai(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),gl(t,e),vl(t,e),_l(t,e),ml(t,e)}function Is(t,e,n=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Ft(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Lt(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function ml(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Ai(t,e){let n=Fs(t);e.validator!==null?t.setValidators(_s(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=Us(t);e.asyncValidator!==null?t.setAsyncValidators(_s(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();Lt(e._rawValidators,r),Lt(e._rawAsyncValidators,r)}function Ft(t,e){let n=!1;if(t!==null){if(e.validator!==null){let r=Fs(t);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.validator);s.length!==r.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let r=Us(t);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(n=!0,t.setAsyncValidators(s))}}}let i=()=>{};return Lt(e._rawValidators,i),Lt(e._rawAsyncValidators,i),n}function gl(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&js(t,e)})}function _l(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&js(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function js(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function vl(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Bs(t,e){t==null,Ai(t,e)}function yl(t,e){return Ft(t,e)}function $s(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Il(t){return Object.getPrototypeOf(t.constructor)===Ts}function Gs(t,e){t._syncPendingControls(),e.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function zs(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(s=>{s.constructor===Ss?n=s:Il(s)?i=s:r=s}),r||i||n||null}function El(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var wl={provide:U,useExisting:q(()=>bl)},$e=Promise.resolve(),bl=(()=>{let e=class e extends U{get submitted(){return R(this.submittedReactive)}constructor(i,r,s){super(),this.callSetDisabledState=s,this._submitted=de(()=>this.submittedReactive()),this.submittedReactive=le(!1),this._directives=new Set,this.ngSubmit=new J,this.form=new Ae({},Ii(i),Ei(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){$e.then(()=>{let r=this._findContainer(i.path);i.control=r.registerControl(i.name,i.control),Vt(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){$e.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){$e.then(()=>{let r=this._findContainer(i.path),s=new Ae({});Bs(s,i),r.registerControl(i.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){$e.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,r){$e.then(()=>{this.form.get(i.path).setValue(r)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submittedReactive.set(!0),Gs(this.form,this._directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}};e.\u0275fac=function(r){return new(r||e)(m(xt,10),m(Wt,10),m(Ke,8))},e.\u0275dir=E({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,s){r&1&&Se("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Y([wl]),C]});let t=e;return t})();function Es(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function ws(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var qe=class extends be{constructor(e=null,n,i){super(wi(n),bi(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ht(n)&&(n.nonNullable||n.initialValueIsDefault)&&(ws(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Es(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Es(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){ws(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Al=t=>t instanceof qe;var Cl={provide:oe,useExisting:q(()=>Tl)},bs=Promise.resolve(),Tl=(()=>{let e=class e extends oe{constructor(i,r,s,o,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new qe,this._registered=!1,this.name="",this.update=new J,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=zs(this,o)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),$s(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Vt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){bs.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,s=r!==0&&ji(r);bs.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?Hs(i,this._parent):[i]}};e.\u0275fac=function(r){return new(r||e)(m(U,9),m(xt,10),m(Wt,10),m(Ut,10),m(Hi,8),m(Ke,8))},e.\u0275dir=E({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Y([Cl]),C,Qe]});let t=e;return t})(),qh=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=E({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),Sl={provide:Ut,useExisting:q(()=>Dl),multi:!0},Dl=(()=>{let e=class e extends Ts{writeValue(i){let r=i??"";this.setProperty("value",r)}registerOnChange(i){this.onChange=r=>{i(r==""?null:parseFloat(r))}}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Zt(e)))(s||e)}})(),e.\u0275dir=E({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,s){r&1&&Se("input",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},features:[Y([Sl]),C]});let t=e;return t})();var qs=new w("");var Pl={provide:U,useExisting:q(()=>Ol)},Ol=(()=>{let e=class e extends U{get submitted(){return R(this._submittedReactive)}set submitted(i){this._submittedReactive.set(i)}constructor(i,r,s){super(),this.callSetDisabledState=s,this._submitted=de(()=>this._submittedReactive()),this._submittedReactive=le(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new J,this._setValidators(i),this._setAsyncValidators(r)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ft(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let r=this.form.get(i.path);return Vt(r,i,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),r}getControl(i){return this.form.get(i.path)}removeControl(i){Is(i.control||null,i,!1),El(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,r){this.form.get(i.path).setValue(r)}onSubmit(i){return this._submittedReactive.set(!0),Gs(this.form,this.directives),this.ngSubmit.emit(i),this.form._events.next(new gi(this.control)),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this._submittedReactive.set(!1),this.form._events.next(new _i(this.form))}_updateDomValue(){this.directives.forEach(i=>{let r=i.control,s=this.form.get(i.path);r!==s&&(Is(r||null,i),Al(s)&&(Vt(s,i,this.callSetDisabledState),i.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let r=this.form.get(i.path);Bs(r,i),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let r=this.form.get(i.path);r&&yl(r,i)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ai(this.form,this),this._oldForm&&Ft(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(m(xt,10),m(Wt,10),m(Ke,8))},e.\u0275dir=E({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,s){r&1&&Se("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Y([Pl]),C,Qe]});let t=e;return t})();var Rl={provide:oe,useExisting:q(()=>kl)},kl=(()=>{let e=class e extends oe{set isDisabled(i){}constructor(i,r,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new J,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=zs(this,o)}ngOnChanges(i){this._added||this._setUpControl(),$s(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return Hs(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(m(U,13),m(xt,10),m(Wt,10),m(Ut,10),m(qs,8))},e.\u0275dir=E({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Y([Rl]),C,Qe]});let t=e;return t})();var Ks=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Xe({type:e}),e.\u0275inj=Ye({});let t=e;return t})(),yi=class extends be{constructor(e,n,i){super(wi(n),bi(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,i={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,n={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),n&&(this.controls.splice(r,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){Ws(this,!1,e),e.forEach((i,r)=>{xs(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,i)=>i._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,i)=>{e(n,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function As(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var Kh=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let i=new e;return i.useNonNullable=!0,i}group(i,r=null){let s=this._reduceControls(i),o={};return As(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Ae(s,o)}record(i,r=null){let s=this._reduceControls(i);return new vi(s,r)}control(i,r,s){let o={};return this.useNonNullable?(As(r)?o=r:(o.validators=r,o.asyncValidators=s),new qe(i,I(v({},o),{nonNullable:!0}))):new qe(i,r,s)}array(i,r,s){let o=i.map(a=>this._createControl(a));return new yi(o,r,s)}_reduceControls(i){let r={};return Object.keys(i).forEach(s=>{r[s]=this._createControl(i[s])}),r}_createControl(i){if(i instanceof qe)return i;if(i instanceof be)return i;if(Array.isArray(i)){let r=i[0],s=i.length>1?i[1]:null,o=i.length>2?i[2]:null;return this.control(r,s,o)}else return this.control(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Jh=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:Ke,useValue:i.callSetDisabledState??jt}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Xe({type:e}),e.\u0275inj=Ye({imports:[Ks]});let t=e;return t})(),Yh=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:qs,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:Ke,useValue:i.callSetDisabledState??jt}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Xe({type:e}),e.\u0275inj=Ye({imports:[Ks]});let t=e;return t})();var Js=class t{auth=Xt(se);register(e){return ps(this.auth,e.email,e.password)}logIn(e){return ms(this.auth,e.email,e.password)}logOut(){return this.auth.signOut()}getUser(){return fs(this.auth)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})};export{Nl as a,Ml as b,_ as c,Vl as d,b as e,N as f,T as g,p as h,me as i,ge as j,Tn as k,_e as l,rt as m,y as n,ke as o,mr as p,Pn as q,ot as r,ct as s,Q as t,ee as u,Ne as v,wd as w,bd as x,se as y,fi as z,bh as A,Ah as B,Ss as C,gs as D,$h as E,Gh as F,bl as G,Tl as H,qh as I,Dl as J,Ol as K,kl as L,Kh as M,Jh as N,Yh as O,Js as P};
